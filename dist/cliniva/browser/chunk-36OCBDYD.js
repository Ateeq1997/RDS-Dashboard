import{a as Tt,b as Rt,c as Lt}from"./chunk-RQM3OA6I.js";import{a as ze,b as Ue,c as Ge,d as Xe}from"./chunk-6XC4OIHM.js";import{a as H,b as Je,c as Ke}from"./chunk-TPS7JDQE.js";import{a as tt,b as it}from"./chunk-V3SXUE67.js";import{e as $,f as Q,g as We,h as O,i as Ze,j as z,k as et}from"./chunk-YVOO45KF.js";import{a as ft}from"./chunk-VDYSTRYE.js";import{a as B,b as Ye,c as at,d as nt,e as ot,f as rt,g as lt,h as mt,i as st,j as ct,k as dt,l as pt,m as ut}from"./chunk-2CJUUZKP.js";import"./chunk-WFCBZMOK.js";import{a as Pe,b as je,e as Be,h as He,i as $e,k as Qe,l as Oe}from"./chunk-NGCM74YQ.js";import{a as Me}from"./chunk-YMQHLQQG.js";import{a as q}from"./chunk-FJTSEEVS.js";import{a as Ve,b as qe}from"./chunk-K2KKAUUH.js";import{a as Ne,b as Ae}from"./chunk-RFGOVY3U.js";import"./chunk-YZAUISFT.js";import{a as Fe}from"./chunk-SYJZ7TFE.js";import{a as Re}from"./chunk-M5ER3LDY.js";import{a as Mt}from"./chunk-PAR2PYJ5.js";import"./chunk-Q5C5JM7P.js";import{a as Te,f as Z}from"./chunk-ISHFCIHQ.js";import"./chunk-6RKQVV62.js";import{A as j,c as he,e as X,g as ge,h as Ce,l as Se,n as Ie,o as Et,q as be,r as xe,v as ve,w as De,x as ke,y as ye,z as P}from"./chunk-R46S23NL.js";import{$ as Ee,_ as we,ma as N,pa as Le,qa as A,ra as M}from"./chunk-2NP4DWSL.js";import"./chunk-CARY4E7O.js";import"./chunk-XNC6UF33.js";import{c as V}from"./chunk-JZYGA36G.js";import{$c as y,A as se,D as ce,Eb as c,Fb as J,Hb as K,Jb as C,Nb as o,Ob as a,Pb as h,Qb as S,Rb as I,Tb as D,Wb as _,Yb as b,bc as R,bd as fe,ca as de,cc as L,dc as F,g as T,gc as ae,ha as pe,hb as s,hc as r,ib as g,ic as k,jc as x,jd as _e,ma as w,pc as E,qc as W,t as me,ub as ue,vc as ne,xa as u,xc as oe,ya as f,zb as p}from"./chunk-7RJPMQXH.js";import"./chunk-WWX6BADO.js";var U=(()=>{class e extends q{constructor(t){super(),this.httpClient=t,this.API_URL="assets/data/issuedItems.json",this.isTblLoading=!0,this.dataChange=new T([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllIssuedItemss(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:t=>{this.isTblLoading=!1,this.dataChange.next(t)},error:t=>{this.isTblLoading=!1,console.log(t.name+" "+t.message)}})}addIssuedItems(t){this.dialogData=t}updateIssuedItems(t){this.dialogData=t}deleteIssuedItems(t){console.log(t)}static{this.\u0275fac=function(n){return new(n||e)(pe(V))}}static{this.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var _t=class{constructor(l){this.id=l.id||this.getRandomID(),this.i_name=l.i_name||"",this.category=l.category||"",this.issue_date=y(new Date,"yyyy-MM-dd","en")||"",this.return_date=y(new Date,"yyyy-MM-dd","en")||"",this.issue_to=l.issue_to||"",this.qty=l.qty||"",this.status=l.status||"Issued"}getRandomID(){let l=()=>(1+Math.random())*65536|0;return l()+l()}};function Ht(e,l){e&1&&(o(0,"mat-error"),r(1," Item name is required "),a())}function $t(e,l){e&1&&(o(0,"mat-error"),r(1," Category is required "),a())}function Qt(e,l){e&1&&(o(0,"mat-error"),r(1," Please select date "),a())}function Ot(e,l){e&1&&(o(0,"mat-error"),r(1," Please select date "),a())}function zt(e,l){e&1&&(o(0,"mat-error"),r(1," Issue To is required "),a())}function Ut(e,l){e&1&&(o(0,"mat-error"),r(1," Quantity is required "),a())}function Gt(e,l){e&1&&(o(0,"mat-error"),r(1," Select status "),a())}var It=(()=>{class e{constructor(t,n,i,m){if(this.dialogRef=t,this.data=n,this.issuedItemsService=i,this.fb=m,this.formControl=new Se("",[X.required]),this.action=n.action,this.action==="edit")this.dialogTitle=n.issuedItems.i_name,this.issuedItems=n.issuedItems;else{this.dialogTitle="New Item Issue";let d={};this.issuedItems=new _t(d)}this.issuedItemsForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.issuedItems.id],i_name:[this.issuedItems.i_name],category:[this.issuedItems.category],issue_date:[y(this.issuedItems.issue_date,"yyyy-MM-dd","en"),[X.required]],return_date:[y(this.issuedItems.return_date,"yyyy-MM-dd","en"),[X.required]],issue_to:[this.issuedItems.issue_to],qty:[this.issuedItems.qty],status:[this.issuedItems.status]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.issuedItemsService.addIssuedItems(this.issuedItemsForm.getRawValue())}static{this.\u0275fac=function(n){return new(n||e)(g($),g(Q),g(U),g(De))}}static{this.\u0275cmp=w({type:e,selectors:[["app-form-dialog",5,"g"]],standalone:!0,features:[E],decls:82,vars:15,consts:[["picker",""],["picker1",""],[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","i_name","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","category","required",""],["matInput","","formControlName","issue_date",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","return_date",3,"matDatepicker"],["matInput","","formControlName","issue_to","required",""],["matInput","","formControlName","qty","required",""],[1,"m-b-20"],[1,"msr-3"],["aria-label","Select status","formControlName","status","required",""],["value","Issued"],["value","Returned"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"example-button-row"],["mat-flat-button","","color","primary",3,"click","disabled","mat-dialog-close"],["mat-flat-button","","color","warn","tabindex","-1",3,"click"]],template:function(n,i){if(n&1){let m=D();o(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),r(5),a()()(),o(6,"button",7),_("click",function(){return u(m),f(i.dialogRef.close())}),o(7,"mat-icon"),r(8,"close"),a()()(),o(9,"div",8)(10,"form",9),_("ngSubmit",function(){return u(m),f(i.submit)}),o(11,"div",10)(12,"div",11)(13,"mat-form-field",12)(14,"mat-label"),r(15,"Item Name"),a(),h(16,"input",13),o(17,"mat-icon",14),r(18,"receipt"),a(),p(19,Ht,2,0,"mat-error"),a()(),o(20,"div",11)(21,"mat-form-field",12)(22,"mat-label"),r(23,"Category"),a(),h(24,"input",15),o(25,"mat-icon",14),r(26,"face"),a(),p(27,$t,2,0,"mat-error"),a()()(),o(28,"div",10)(29,"div",11)(30,"mat-form-field",12)(31,"mat-label"),r(32,"Issue date"),a(),h(33,"input",16)(34,"mat-datepicker-toggle",17)(35,"mat-datepicker",null,0),p(37,Qt,2,0,"mat-error"),a()(),o(38,"div",11)(39,"mat-form-field",12)(40,"mat-label"),r(41,"Return date"),a(),h(42,"input",18)(43,"mat-datepicker-toggle",17)(44,"mat-datepicker",null,1),p(46,Ot,2,0,"mat-error"),a()()(),o(47,"div",10)(48,"div",11)(49,"mat-form-field",12)(50,"mat-label"),r(51,"Issue To"),a(),h(52,"input",19),o(53,"mat-icon",14),r(54,"account_circle"),a(),p(55,zt,2,0,"mat-error"),a()(),o(56,"div",11)(57,"mat-form-field",12)(58,"mat-label"),r(59,"Quantity"),a(),h(60,"input",20),o(61,"mat-icon",14),r(62,"account_circle"),a(),p(63,Ut,2,0,"mat-error"),a()()(),o(64,"div",10)(65,"div",11)(66,"div",21)(67,"mat-label",22),r(68,"Status:"),a(),o(69,"mat-radio-group",23)(70,"mat-radio-button",24),r(71,"Issued"),a(),o(72,"mat-radio-button",25),r(73,"Returned"),a(),p(74,Gt,2,0,"mat-error"),a()()()(),o(75,"div",10)(76,"div",26)(77,"div",27)(78,"button",28),_("click",function(){return u(m),f(i.confirmAdd())}),r(79,"Save"),a(),o(80,"button",29),_("click",function(){return u(m),f(i.onNoClick())}),r(81,"Cancel"),a()()()()()()()}if(n&2){let m,d,v,ee,te,ie,kt,yt=ae(36),wt=ae(45);s(5),x(" ",i.dialogTitle," "),s(5),c("formGroup",i.issuedItemsForm),s(9),C((m=i.issuedItemsForm.get("i_name"))!=null&&m.hasError("required")?19:-1),s(8),C((d=i.issuedItemsForm.get("category"))!=null&&d.hasError("required")?27:-1),s(6),c("matDatepicker",yt),s(),c("for",yt),s(3),C((v=i.issuedItemsForm.get("issue_date"))!=null&&v.hasError("required")?37:-1),s(5),c("matDatepicker",wt),s(),c("for",wt),s(3),C((ee=i.issuedItemsForm.get("return_date"))!=null&&ee.hasError("required")?46:-1),s(9),C((te=i.issuedItemsForm.get("issue_to"))!=null&&te.hasError("required")?55:-1),s(8),C((ie=i.issuedItemsForm.get("qty"))!=null&&ie.hasError("required")?63:-1),s(11),C((kt=i.issuedItemsForm.get("status"))!=null&&kt.hasError("required")?74:-1),s(4),c("disabled",!i.issuedItemsForm.valid)("mat-dialog-close",1)}},dependencies:[M,N,A,j,P,z,ke,Ie,he,ge,Ce,ve,ye,be,xe,$e,He,Pe,je,Be,Oe,Qe,Xe,ze,Ue,Ge,Lt,Tt,Rt,O]})}}return e})();var Ft=(()=>{class e{constructor(t,n,i){this.dialogRef=t,this.data=n,this.issuedItemsService=i}onNoClick(){this.dialogRef.close()}confirmDelete(){this.issuedItemsService.deleteIssuedItems(this.data.id)}static{this.\u0275fac=function(n){return new(n||e)(g($),g(Q),g(U))}}static{this.\u0275cmp=w({type:e,selectors:[["app-delete",5,"g"]],standalone:!0,features:[E],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(n,i){n&1&&(o(0,"div",0)(1,"h3",1),r(2,"Are you sure?"),a(),o(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),r(8," Department Name: "),a(),r(9),a()(),o(10,"li")(11,"p")(12,"span",4),r(13," Department Head: "),a(),r(14),a()(),o(15,"li")(16,"p")(17,"span",4),r(18,"Status: "),a(),r(19),a()()()(),o(20,"div",5)(21,"button",6),_("click",function(){return i.confirmDelete()}),r(22," Delete "),a(),o(23,"button",7),_("click",function(){return i.onNoClick()}),r(24,"Cancel"),a()()()),n&2&&(s(9),k(i.data.category),s(5),k(i.data.issue_to),s(5),x("",i.data.status," "),s(2),c("mat-dialog-close",1))},dependencies:[Ze,z,et,M,N,O]})}}return e})();var ii=["filter"],ai=()=>["Inventory"],ni=()=>[5,10,25,100];function oi(e,l){if(e&1){let t=D();o(0,"mat-header-cell",52)(1,"mat-checkbox",53),_("change",function(i){u(t);let m=b();return f(i?m.masterToggle():null)}),a()()}if(e&2){let t=b();c("ngClass","tbl-col-width-per-6"),s(),c("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("ngClass","tbl-checkbox")}}function ri(e,l){if(e&1){let t=D();o(0,"mat-cell",52)(1,"mat-checkbox",54),_("click",function(i){return u(t),f(i.stopPropagation())})("change",function(i){let m=u(t).$implicit,d=b();return f(i?d.selection.toggle(m):null)}),a()()}if(e&2){let t=l.$implicit,n=b();c("ngClass","tbl-col-width-per-6"),s(),c("checked",n.selection.isSelected(t))("ngClass","tbl-checkbox")}}function li(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Id"),a())}function mi(e,l){if(e&1&&(o(0,"mat-cell"),r(1),a()),e&2){let t=l.$implicit;s(),k(t.id)}}function si(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Item Name "),a())}function ci(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",56),r(2,"Item Name:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),x(" ",t.i_name," ")}}function di(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Category"),a())}function pi(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",56),r(2,"Category:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),x("",t.category," ")}}function ui(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Issue Date"),a())}function fi(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",56),r(2,"Issue Date:"),a(),r(3),ne(4,"date"),a()),e&2){let t=l.$implicit;s(3),k(oe(4,1,t.issue_date,"MM/dd/yyyy"))}}function _i(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Return Date"),a())}function hi(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",56),r(2,"Return Date:"),a(),r(3),ne(4,"date"),a()),e&2){let t=l.$implicit;s(3),k(oe(4,1,t.return_date,"MM/dd/yyyy"))}}function gi(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Issue To"),a())}function Ci(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",56),r(2,"Issue To:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),x("",t.issue_to," ")}}function Si(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Quantity"),a())}function Ii(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",56),r(2,"Quantity:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),x(" ",t.qty,"")}}function bi(e,l){e&1&&(o(0,"mat-header-cell",55),r(1," Status "),a())}function xi(e,l){if(e&1&&(o(0,"div")(1,"span",58),r(2),a()()),e&2){let t=b().$implicit;s(2),x(" ",t.status,"")}}function vi(e,l){if(e&1&&(o(0,"div")(1,"span",59),r(2),a()()),e&2){let t=b().$implicit;s(2),x(" ",t.status,"")}}function Di(e,l){if(e&1&&(o(0,"mat-cell",57)(1,"span",56),r(2,"Status:"),a(),p(3,xi,3,1,"div")(4,vi,3,1,"div"),a()),e&2){let t=l.$implicit;s(3),C(t.status==="Returned"?3:-1),s(),C(t.status==="Issued"?4:-1)}}function ki(e,l){e&1&&(o(0,"mat-header-cell",60),r(1,"Actions"),a())}function yi(e,l){if(e&1){let t=D();o(0,"mat-cell",60)(1,"button",61),_("click",function(i){return u(t),f(i.stopPropagation())})("click",function(){let i=u(t).$implicit,m=b();return f(m.editCall(i))}),h(2,"app-feather-icons",62),a(),o(3,"button",61),_("click",function(i){return u(t),f(i.stopPropagation())})("click",function(){let i=u(t).$implicit,m=b();return f(m.deleteItem(i))}),h(4,"app-feather-icons",62),a()()}e&2&&(s(2),K("tbl-fav-edit"),c("icon","edit"),s(2),K("tbl-fav-delete"),c("icon","trash-2"))}function wi(e,l){e&1&&h(0,"mat-header-row")}function Ei(e,l){if(e&1){let t=D();o(0,"mat-row",63),_("click",function(){let i=u(t).$implicit,m=b();return f(m.editCall(i))}),a()}e&2&&J("cursor","pointer")}function Mi(e,l){e&1&&(o(0,"div",49),h(1,"mat-progress-spinner",64),a()),e&2&&(s(),c("diameter",40))}function Ti(e,l){if(e&1&&(o(0,"div",65),r(1," No results "),a()),e&2){let t=b();J("display",t.dataSource.renderedData.length===0?"":"none")}}var Vt=(()=>{class e extends q{constructor(t,n,i,m){super(),this.httpClient=t,this.dialog=n,this.issuedItemsService=i,this.snackBar=m,this.displayedColumns=["select","i_name","category","issue_date","return_date","issue_to","qty","status","actions"],this.selection=new Z(!0,[])}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let t;localStorage.getItem("isRtl")==="true"?t="rtl":t="ltr";let n=this.dialog.open(It,{data:{issuedItems:this.issuedItems,action:"add"},direction:t});this.subs.sink=n.afterClosed().subscribe(i=>{i===1&&(this.exampleDatabase?.dataChange.value.unshift(this.issuedItemsService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}editCall(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(It,{data:{issuedItems:t,action:"edit"},direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let d=this.exampleDatabase?.dataChange.value.findIndex(v=>v.id===this.id);d!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value[d]=this.issuedItemsService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}deleteItem(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(Ft,{data:t,direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let d=this.exampleDatabase?.dataChange.value.findIndex(v=>v.id===this.id);d!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(d,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){let t=this.selection.selected.length,n=this.dataSource.renderedData.length;return t===n}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(t=>this.selection.select(t))}removeSelectedRows(){let t=this.selection.selected.length;this.selection.selected.forEach(n=>{let i=this.dataSource.renderedData.findIndex(m=>m===n);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new Z(!0,[])}),this.showNotification("snackbar-danger",t+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new U(this.httpClient),this.dataSource=new bt(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=se(this.filter?.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter?.nativeElement.value)})}exportExcel(){let t=this.dataSource.filteredData.map(n=>({"Item Name":n.i_name,Category:n.category,"Issue Date":y(new Date(n.issue_date),"yyyy-MM-dd","en")||"","Return Date":y(new Date(n.return_date),"yyyy-MM-dd","en")||"","Issue To":n.issue_to,Quantity:n.qty,Status:n.status}));Me.exportToExcel(t,"excel")}showNotification(t,n,i,m){this.snackBar.open(n,"",{duration:2e3,verticalPosition:i,horizontalPosition:m,panelClass:t})}static{this.\u0275fac=function(n){return new(n||e)(g(V),g(We),g(U),g(ft))}}static{this.\u0275cmp=w({type:e,selectors:[["app-issued-items"]],viewQuery:function(n,i){if(n&1&&(R(B,7),R(H,7),R(ii,7)),n&2){let m;L(m=F())&&(i.paginator=m.first),L(m=F())&&(i.sort=m.first),L(m=F())&&(i.filter=m.first)}},standalone:!0,features:[ue,E],decls:78,vars:15,consts:[["filter",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","i_name"],["matColumnDef","category"],["matColumnDef","issue_date"],["matColumnDef","return_date"],["matColumnDef","issue_to"],["matColumnDef","qty"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"ngClass"],[3,"change","checked","indeterminate","ngClass"],[3,"click","change","checked","ngClass"],["mat-sort-header",""],[1,"mobile-label"],["mat-cell",""],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"pr-0"],["mat-icon-button","",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(n,i){if(n&1){let m=D();o(0,"section",2)(1,"div",3)(2,"div",4),h(3,"app-breadcrumb",5),a(),o(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ul",11)(10,"li",12)(11,"h2"),r(12,"Issued Items"),a()(),o(13,"li",13)(14,"label",14)(15,"i",15),r(16,"search"),a()(),h(17,"input",16,0),a()()(),o(19,"div",17)(20,"ul",18)(21,"li",19)(22,"div",20)(23,"button",21),_("click",function(){return u(m),f(i.addNew())}),o(24,"mat-icon"),r(25,"add"),a()()()(),o(26,"li",19)(27,"div",22)(28,"button",21),_("click",function(){return u(m),f(i.refresh())}),o(29,"mat-icon"),r(30,"refresh"),a()()()(),o(31,"li",19)(32,"div",23)(33,"button",24),_("click",function(){return u(m),f(i.removeSelectedRows())}),o(34,"mat-icon"),r(35,"delete "),a()()()(),o(36,"li")(37,"div",25)(38,"img",26),_("click",function(){return u(m),f(i.exportExcel())}),a()()()()()(),o(39,"div",27)(40,"div",28)(41,"table",29),S(42,30),p(43,oi,2,4,"mat-header-cell",31)(44,ri,2,3,"mat-cell",32),I(),S(45,33),p(46,li,2,0,"mat-header-cell",34)(47,mi,2,1,"mat-cell",35),I(),S(48,36),p(49,si,2,0,"mat-header-cell",34)(50,ci,4,1,"mat-cell",35),I(),S(51,37),p(52,di,2,0,"mat-header-cell",34)(53,pi,4,1,"mat-cell",35),I(),S(54,38),p(55,ui,2,0,"mat-header-cell",34)(56,fi,5,4,"mat-cell",35),I(),S(57,39),p(58,_i,2,0,"mat-header-cell",34)(59,hi,5,4,"mat-cell",35),I(),S(60,40),p(61,gi,2,0,"mat-header-cell",34)(62,Ci,4,1,"mat-cell",35),I(),S(63,41),p(64,Si,2,0,"mat-header-cell",34)(65,Ii,4,1,"mat-cell",35),I(),S(66,42),p(67,bi,2,0,"mat-header-cell",34)(68,Di,5,2,"mat-cell",43),I(),S(69,44),p(70,ki,2,0,"mat-header-cell",45)(71,yi,5,6,"mat-cell",46),I(),p(72,wi,1,0,"mat-header-row",47)(73,Ei,1,2,"mat-row",48),a(),p(74,Mi,2,1,"div",49)(75,Ti,2,2,"div",50),h(76,"mat-paginator",51,1),a()()()()()()()}n&2&&(s(3),c("title","Issued Items")("items",W(13,ai))("active_item","Issued Items"),s(29),c("hidden",!i.selection.hasValue()),s(9),c("dataSource",i.dataSource),s(31),c("matHeaderRowDef",i.displayedColumns),s(),c("matRowDefColumns",i.displayedColumns),s(),C(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?74:-1),s(),C(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?-1:75),s(),c("length",i.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",W(14,ni)))},dependencies:[Fe,qe,Ve,M,A,Le,j,P,ut,at,ot,st,rt,nt,ct,lt,mt,dt,pt,Ke,H,Je,fe,Ae,Ne,Re,Ee,we,it,tt,Ye,B,_e]})}}return e})(),bt=class extends Te{get filter(){return this.filterChange.value}set filter(l){this.filterChange.next(l)}constructor(l,t,n){super(),this.exampleDatabase=l,this.paginator=t,this._sort=n,this.filterChange=new T(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){let l=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllIssuedItemss(),ce(...l).pipe(me(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>(i.i_name+i.category+i.issue_date+i.return_date+i.issue_to+i.qty+i.status).toLowerCase().indexOf(this.filter.toLowerCase())!==-1);let t=this.sortData(this.filteredData.slice()),n=this.paginator.pageIndex*this.paginator.pageSize;return this.renderedData=t.splice(n,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(l){return!this._sort.active||this._sort.direction===""?l:l.sort((t,n)=>{let i="",m="";switch(this._sort.active){case"id":[i,m]=[t.id,n.id];break;case"i_name":[i,m]=[t.i_name,n.i_name];break;case"category":[i,m]=[t.category,n.category];break;case"issue_date":[i,m]=[t.issue_date,n.issue_date];break;case"return_date":[i,m]=[t.return_date,n.return_date];break;case"issue_to":[i,m]=[t.issue_to,n.issue_to];break;case"qty":[i,m]=[t.qty,n.qty];break;case"status":[i,m]=[t.status,n.status];break}let d=isNaN(+i)?i:+i,v=isNaN(+m)?m:+m;return(d<v?-1:1)*(this._sort.direction==="asc"?1:-1)})}};var G=(()=>{class e extends q{constructor(t){super(),this.httpClient=t,this.API_URL="assets/data/itemStockList.json",this.isTblLoading=!0,this.dataChange=new T([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllItemStockLists(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:t=>{this.isTblLoading=!1,this.dataChange.next(t)},error:t=>{this.isTblLoading=!1,console.log(t.name+" "+t.message)}})}addItemStockList(t){this.dialogData=t}updateItemStockList(t){this.dialogData=t}deleteItemStockList(t){console.log(t)}static{this.\u0275fac=function(n){return new(n||e)(pe(V))}}static{this.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ht=class{constructor(l){this.id=l.id||this.getRandomID(),this.i_name=l.i_name||"",this.category=l.category||"",this.qty=l.qty||"",this.date=y(new Date,"yyyy-MM-dd","en")||"",this.price=l.price||"",this.details=l.details||""}getRandomID(){let l=()=>(1+Math.random())*65536|0;return l()+l()}};function Ri(e,l){e&1&&(o(0,"mat-error"),r(1," Item Name is required "),a())}function Li(e,l){e&1&&(o(0,"mat-error"),r(1," Category is required "),a())}function Fi(e,l){e&1&&(o(0,"mat-error"),r(1," Quantity is required "),a())}function Vi(e,l){e&1&&(o(0,"mat-error"),r(1," Please select date "),a())}function qi(e,l){e&1&&(o(0,"mat-error"),r(1," Price is required "),a())}var vt=(()=>{class e{constructor(t,n,i,m){if(this.dialogRef=t,this.data=n,this.itemStockListService=i,this.fb=m,this.formControl=new Se("",[X.required]),this.action=n.action,this.action==="edit")this.dialogTitle=n.itemStockList.i_name,this.itemStockList=n.itemStockList;else{this.dialogTitle="New ItemStockList";let d={};this.itemStockList=new ht(d)}this.itemStockListForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.itemStockList.id],i_name:[this.itemStockList.i_name],category:[this.itemStockList.category],qty:[this.itemStockList.qty],date:[y(this.itemStockList.date,"yyyy-MM-dd","en"),[X.required]],price:[this.itemStockList.price],details:[this.itemStockList.details]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.itemStockListService.addItemStockList(this.itemStockListForm.getRawValue())}static{this.\u0275fac=function(n){return new(n||e)(g($),g(Q),g(G),g(De))}}static{this.\u0275cmp=w({type:e,selectors:[["app-form-dialog",5,"h"]],standalone:!0,features:[E],decls:68,vars:11,consts:[["picker",""],[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","i_name","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","category","required",""],["matInput","","formControlName","qty","type","number","required",""],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","price","type","number","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","details"],[1,"example-button-row"],["mat-flat-button","","color","primary",3,"click","disabled","mat-dialog-close"],["mat-flat-button","","color","warn","tabindex","-1",3,"click"]],template:function(n,i){if(n&1){let m=D();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),r(5),a()()(),o(6,"button",6),_("click",function(){return u(m),f(i.dialogRef.close())}),o(7,"mat-icon"),r(8,"close"),a()()(),o(9,"div",7)(10,"form",8),_("ngSubmit",function(){return u(m),f(i.submit)}),o(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),r(15,"Item Name"),a(),h(16,"input",12),o(17,"mat-icon",13),r(18,"badge"),a(),p(19,Ri,2,0,"mat-error"),a()(),o(20,"div",10)(21,"mat-form-field",11)(22,"mat-label"),r(23,"Category"),a(),h(24,"input",14),o(25,"mat-icon",13),r(26,"category"),a(),p(27,Li,2,0,"mat-error"),a()()(),o(28,"div",9)(29,"div",10)(30,"mat-form-field",11)(31,"mat-label"),r(32,"Quantity"),a(),h(33,"input",15),o(34,"mat-icon",13),r(35,"tag"),a(),p(36,Fi,2,0,"mat-error"),a()(),o(37,"div",10)(38,"mat-form-field",11)(39,"mat-label"),r(40,"Purchase date"),a(),h(41,"input",16)(42,"mat-datepicker-toggle",17)(43,"mat-datepicker",null,0),p(45,Vi,2,0,"mat-error"),a()()(),o(46,"div",9)(47,"div",10)(48,"mat-form-field",11)(49,"mat-label"),r(50,"Price"),a(),h(51,"input",18),o(52,"mat-icon",13),r(53,"attach_money"),a(),p(54,qi,2,0,"mat-error"),a()()(),o(55,"div",9)(56,"div",19)(57,"mat-form-field",11)(58,"mat-label"),r(59,"Description"),a(),h(60,"textarea",20),a()()(),o(61,"div",9)(62,"div",19)(63,"div",21)(64,"button",22),_("click",function(){return u(m),f(i.confirmAdd())}),r(65,"Save"),a(),o(66,"button",23),_("click",function(){return u(m),f(i.onNoClick())}),r(67,"Cancel"),a()()()()()()()}if(n&2){let m,d,v,ee,te,ie=ae(44);s(5),x(" ",i.dialogTitle," "),s(5),c("formGroup",i.itemStockListForm),s(9),C((m=i.itemStockListForm.get("i_name"))!=null&&m.hasError("required")?19:-1),s(8),C((d=i.itemStockListForm.get("category"))!=null&&d.hasError("required")?27:-1),s(9),C((v=i.itemStockListForm.get("qty"))!=null&&v.hasError("required")?36:-1),s(5),c("matDatepicker",ie),s(),c("for",ie),s(3),C((ee=i.itemStockListForm.get("date"))!=null&&ee.hasError("required")?45:-1),s(9),C((te=i.itemStockListForm.get("price"))!=null&&te.hasError("required")?54:-1),s(10),c("disabled",!i.itemStockListForm.valid)("mat-dialog-close",1)}},dependencies:[M,N,A,j,P,z,ke,Ie,he,Et,ge,Ce,ve,ye,be,xe,$e,He,Pe,je,Be,Oe,Qe,Xe,ze,Ue,Ge,O]})}}return e})();var qt=(()=>{class e{constructor(t,n,i){this.dialogRef=t,this.data=n,this.itemStockListService=i}onNoClick(){this.dialogRef.close()}confirmDelete(){this.itemStockListService.deleteItemStockList(this.data.id)}static{this.\u0275fac=function(n){return new(n||e)(g($),g(Q),g(G))}}static{this.\u0275cmp=w({type:e,selectors:[["app-delete",5,"h"]],standalone:!0,features:[E],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(n,i){n&1&&(o(0,"div",0)(1,"h3",1),r(2,"Are you sure?"),a(),o(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),r(8," Item Name: "),a(),r(9),a()(),o(10,"li")(11,"p")(12,"span",4),r(13," Category: "),a(),r(14),a()(),o(15,"li")(16,"p")(17,"span",4),r(18,"Quantity: "),a(),r(19),a()()()(),o(20,"div",5)(21,"button",6),_("click",function(){return i.confirmDelete()}),r(22," Delete "),a(),o(23,"button",7),_("click",function(){return i.onNoClick()}),r(24,"Cancel"),a()()()),n&2&&(s(9),k(i.data.i_name),s(5),k(i.data.category),s(5),x("",i.data.qty," "),s(2),c("mat-dialog-close",1))},dependencies:[Ze,z,et,M,N,O]})}}return e})();var Ni=["filter"],Ai=()=>["Inventory"],Pi=()=>[5,10,25,100];function ji(e,l){if(e&1){let t=D();o(0,"mat-header-cell",51)(1,"mat-checkbox",52),_("change",function(i){u(t);let m=b();return f(i?m.masterToggle():null)}),a()()}if(e&2){let t=b();c("ngClass","tbl-col-width-per-6"),s(),c("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("ngClass","tbl-checkbox")}}function Bi(e,l){if(e&1){let t=D();o(0,"mat-cell",51)(1,"mat-checkbox",53),_("click",function(i){return u(t),f(i.stopPropagation())})("change",function(i){let m=u(t).$implicit,d=b();return f(i?d.selection.toggle(m):null)}),a()()}if(e&2){let t=l.$implicit,n=b();c("ngClass","tbl-col-width-per-6"),s(),c("checked",n.selection.isSelected(t))("ngClass","tbl-checkbox")}}function Hi(e,l){e&1&&(o(0,"mat-header-cell",54),r(1,"Id"),a())}function $i(e,l){if(e&1&&(o(0,"mat-cell"),r(1),a()),e&2){let t=l.$implicit;s(),k(t.id)}}function Qi(e,l){e&1&&(o(0,"mat-header-cell",54),r(1,"Item Name "),a())}function Oi(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",55),r(2,"Item Name:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),x(" ",t.i_name,"")}}function zi(e,l){e&1&&(o(0,"mat-header-cell",54),r(1,"Category"),a())}function Ui(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",55),r(2,"Category:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),x("",t.category," ")}}function Gi(e,l){e&1&&(o(0,"mat-header-cell",56),r(1,"Quantity "),a()),e&2&&c("ngClass","tbl-col-width-per-100")}function Xi(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",57)(2,"span",55),r(3,"Quantity:"),a(),r(4),a()()),e&2){let t=l.$implicit;s(),c("ngClass","tbl-col-width-per-80"),s(3),k(t.qty)}}function Yi(e,l){e&1&&(o(0,"mat-header-cell",54),r(1,"Purchase Date"),a())}function Ji(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",55),r(2,"Purchase Date:"),a(),r(3),ne(4,"date"),a()),e&2){let t=l.$implicit;s(3),k(oe(4,1,t.date,"MM/dd/yyyy"))}}function Ki(e,l){e&1&&(o(0,"mat-header-cell",54),r(1,"Price($)"),a())}function Wi(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",55),r(2,"Price:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),k(t.price)}}function Zi(e,l){e&1&&(o(0,"mat-header-cell",54),r(1,"Details"),a())}function ea(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",58)(2,"span",55),r(3,"Details:"),a(),r(4),a()()),e&2){let t=l.$implicit;s(4),k(t.details)}}function ta(e,l){e&1&&(o(0,"mat-header-cell",59),r(1,"Actions"),a())}function ia(e,l){if(e&1){let t=D();o(0,"mat-cell",59)(1,"button",60),_("click",function(i){return u(t),f(i.stopPropagation())})("click",function(){let i=u(t).$implicit,m=b();return f(m.editCall(i))}),h(2,"app-feather-icons",61),a(),o(3,"button",60),_("click",function(i){return u(t),f(i.stopPropagation())})("click",function(){let i=u(t).$implicit,m=b();return f(m.deleteItem(i))}),h(4,"app-feather-icons",61),a()()}e&2&&(s(2),K("tbl-fav-edit"),c("icon","edit"),s(2),K("tbl-fav-delete"),c("icon","trash-2"))}function aa(e,l){e&1&&h(0,"mat-header-row")}function na(e,l){if(e&1){let t=D();o(0,"mat-row",62),_("click",function(){let i=u(t).$implicit,m=b();return f(m.editCall(i))}),a()}e&2&&J("cursor","pointer")}function oa(e,l){e&1&&(o(0,"div",48),h(1,"mat-progress-spinner",63),a()),e&2&&(s(),c("diameter",40))}function ra(e,l){if(e&1&&(o(0,"div",64),r(1," No results "),a()),e&2){let t=b();J("display",t.dataSource.renderedData.length===0?"":"none")}}var Nt=(()=>{class e extends q{constructor(t,n,i,m){super(),this.httpClient=t,this.dialog=n,this.itemStockListService=i,this.snackBar=m,this.displayedColumns=["select","i_name","category","qty","date","price","details","actions"],this.selection=new Z(!0,[])}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let t;localStorage.getItem("isRtl")==="true"?t="rtl":t="ltr";let n=this.dialog.open(vt,{data:{itemStockList:this.itemStockList,action:"add"},direction:t});this.subs.sink=n.afterClosed().subscribe(i=>{i===1&&(this.exampleDatabase?.dataChange.value.unshift(this.itemStockListService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}editCall(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(vt,{data:{itemStockList:t,action:"edit"},direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let d=this.exampleDatabase?.dataChange.value.findIndex(v=>v.id===this.id);d!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value[d]=this.itemStockListService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}deleteItem(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(qt,{data:t,direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let d=this.exampleDatabase?.dataChange.value.findIndex(v=>v.id===this.id);d!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(d,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){let t=this.selection.selected.length,n=this.dataSource.renderedData.length;return t===n}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(t=>this.selection.select(t))}removeSelectedRows(){let t=this.selection.selected.length;this.selection.selected.forEach(n=>{let i=this.dataSource.renderedData.findIndex(m=>m===n);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new Z(!0,[])}),this.showNotification("snackbar-danger",t+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new G(this.httpClient),this.dataSource=new Dt(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=se(this.filter?.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter?.nativeElement.value)})}exportExcel(){let t=this.dataSource.filteredData.map(n=>({"Item Name":n.i_name,Category:n.category,Quantity:n.qty,"Purchase Date":y(new Date(n.date),"yyyy-MM-dd","en")||"",Price:n.price,Details:n.details}));Me.exportToExcel(t,"excel")}showNotification(t,n,i,m){this.snackBar.open(n,"",{duration:2e3,verticalPosition:i,horizontalPosition:m,panelClass:t})}static{this.\u0275fac=function(n){return new(n||e)(g(V),g(We),g(G),g(ft))}}static{this.\u0275cmp=w({type:e,selectors:[["app-item-stock-list"]],viewQuery:function(n,i){if(n&1&&(R(B,7),R(H,7),R(Ni,7)),n&2){let m;L(m=F())&&(i.paginator=m.first),L(m=F())&&(i.sort=m.first),L(m=F())&&(i.filter=m.first)}},standalone:!0,features:[ue,E],decls:75,vars:15,consts:[["filter",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","i_name"],["matColumnDef","category"],["matColumnDef","qty"],["mat-sort-header","",3,"ngClass",4,"matHeaderCellDef"],["matColumnDef","date"],["matColumnDef","price"],["matColumnDef","details"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"ngClass"],[3,"change","checked","indeterminate","ngClass"],[3,"click","change","checked","ngClass"],["mat-sort-header",""],[1,"mobile-label"],["mat-sort-header","",3,"ngClass"],[1,"truncate-text",3,"ngClass"],[1,"truncate-text"],[1,"pr-0"],["mat-icon-button","",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(n,i){if(n&1){let m=D();o(0,"section",2)(1,"div",3)(2,"div",4),h(3,"app-breadcrumb",5),a(),o(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ul",11)(10,"li",12)(11,"h2"),r(12,"Stock List"),a()(),o(13,"li",13)(14,"label",14)(15,"i",15),r(16,"search"),a()(),h(17,"input",16,0),a()()(),o(19,"div",17)(20,"ul",18)(21,"li",19)(22,"div",20)(23,"button",21),_("click",function(){return u(m),f(i.addNew())}),o(24,"mat-icon"),r(25,"add"),a()()()(),o(26,"li",19)(27,"div",22)(28,"button",21),_("click",function(){return u(m),f(i.refresh())}),o(29,"mat-icon"),r(30,"refresh"),a()()()(),o(31,"li",19)(32,"div",23)(33,"button",24),_("click",function(){return u(m),f(i.removeSelectedRows())}),o(34,"mat-icon"),r(35,"delete "),a()()()(),o(36,"li")(37,"div",25)(38,"img",26),_("click",function(){return u(m),f(i.exportExcel())}),a()()()()()(),o(39,"div",27)(40,"div",28)(41,"table",29),S(42,30),p(43,ji,2,4,"mat-header-cell",31)(44,Bi,2,3,"mat-cell",32),I(),S(45,33),p(46,Hi,2,0,"mat-header-cell",34)(47,$i,2,1,"mat-cell",35),I(),S(48,36),p(49,Qi,2,0,"mat-header-cell",34)(50,Oi,4,1,"mat-cell",35),I(),S(51,37),p(52,zi,2,0,"mat-header-cell",34)(53,Ui,4,1,"mat-cell",35),I(),S(54,38),p(55,Gi,2,1,"mat-header-cell",39)(56,Xi,5,2,"mat-cell",35),I(),S(57,40),p(58,Yi,2,0,"mat-header-cell",34)(59,Ji,5,4,"mat-cell",35),I(),S(60,41),p(61,Ki,2,0,"mat-header-cell",34)(62,Wi,4,1,"mat-cell",35),I(),S(63,42),p(64,Zi,2,0,"mat-header-cell",34)(65,ea,5,1,"mat-cell",35),I(),S(66,43),p(67,ta,2,0,"mat-header-cell",44)(68,ia,5,6,"mat-cell",45),I(),p(69,aa,1,0,"mat-header-row",46)(70,na,1,2,"mat-row",47),a(),p(71,oa,2,1,"div",48)(72,ra,2,2,"div",49),h(73,"mat-paginator",50,1),a()()()()()()()}n&2&&(s(3),c("title","Item Stock List")("items",W(13,Ai))("active_item","Item Stock List"),s(29),c("hidden",!i.selection.hasValue()),s(9),c("dataSource",i.dataSource),s(28),c("matHeaderRowDef",i.displayedColumns),s(),c("matRowDefColumns",i.displayedColumns),s(),C(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?71:-1),s(),C(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?-1:72),s(),c("length",i.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",W(14,Pi)))},dependencies:[Fe,qe,Ve,M,A,Le,j,P,ut,at,ot,st,rt,nt,ct,lt,mt,dt,pt,Ke,H,Je,fe,Ae,Ne,Re,Ee,we,it,tt,Ye,B,_e]})}}return e})(),Dt=class extends Te{get filter(){return this.filterChange.value}set filter(l){this.filterChange.next(l)}constructor(l,t,n){super(),this.exampleDatabase=l,this.paginator=t,this._sort=n,this.filterChange=new T(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){let l=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllItemStockLists(),ce(...l).pipe(me(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>(i.i_name+i.category+i.qty+i.date+i.price+i.details).toLowerCase().indexOf(this.filter.toLowerCase())!==-1);let t=this.sortData(this.filteredData.slice()),n=this.paginator.pageIndex*this.paginator.pageSize;return this.renderedData=t.splice(n,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(l){return!this._sort.active||this._sort.direction===""?l:l.sort((t,n)=>{let i="",m="";switch(this._sort.active){case"id":[i,m]=[t.id,n.id];break;case"i_name":[i,m]=[t.i_name,n.i_name];break;case"category":[i,m]=[t.category,n.category];break;case"qty":[i,m]=[t.qty,n.qty];break;case"date":[i,m]=[t.date,n.date];break;case"price":[i,m]=[t.price,n.price];break;case"details":[i,m]=[t.details,n.details];break}let d=isNaN(+i)?i:+i,v=isNaN(+m)?m:+m;return(d<v?-1:1)*(this._sort.direction==="asc"?1:-1)})}};var qn=[{path:"item-stock-list",component:Nt},{path:"issued-items",component:Vt},{path:"**",component:Mt}];export{qn as INVENTORY_ROUTE};
