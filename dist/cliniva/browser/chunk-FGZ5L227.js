import{a as at,b as nt,c as ot}from"./chunk-RQM3OA6I.js";import{a as Ue,b as Xe,c as Je,d as Ke}from"./chunk-6XC4OIHM.js";import{a as H,b as Ye,c as Ze}from"./chunk-TPS7JDQE.js";import{a as rt,b as lt}from"./chunk-V3SXUE67.js";import{e as G,f as L,g as et,h as O,i as tt,j as z,k as it}from"./chunk-YVOO45KF.js";import{a as bt}from"./chunk-VDYSTRYE.js";import{a as $,b as We,c as mt,d as st,e as ct,f as dt,g as pt,h as ht,i as ut,j as _t,k as ft,l as gt,m as Ct}from"./chunk-2CJUUZKP.js";import"./chunk-WFCBZMOK.js";import{a as $e,b as He,e as Ge,h as Le,i as Oe,k as ze,l as Qe}from"./chunk-NGCM74YQ.js";import{a as Re}from"./chunk-YMQHLQQG.js";import{a as V}from"./chunk-FJTSEEVS.js";import{a as Ae,b as qe}from"./chunk-K2KKAUUH.js";import{a as Pe,b as je}from"./chunk-RFGOVY3U.js";import"./chunk-YZAUISFT.js";import{a as Ve}from"./chunk-SYJZ7TFE.js";import{a as Ne}from"./chunk-M5ER3LDY.js";import{a as Rt}from"./chunk-PAR2PYJ5.js";import"./chunk-Q5C5JM7P.js";import{a as Fe,f as Z}from"./chunk-ISHFCIHQ.js";import"./chunk-6RKQVV62.js";import{A as j,c as ge,e as Y,g as Ce,h as be,l as xe,n as De,o as ve,q as Se,r as Ee,v as we,w as Me,x as ke,y as Te,z as P}from"./chunk-R46S23NL.js";import{$ as Ie,_ as ye,ma as A,pa as Be,qa as q,ra as y}from"./chunk-2NP4DWSL.js";import"./chunk-CARY4E7O.js";import"./chunk-XNC6UF33.js";import{c as B}from"./chunk-JZYGA36G.js";import{$c as T,A as le,D as me,Eb as p,Fb as J,Hb as K,Jb as C,Nb as o,Ob as a,Pb as f,Qb as x,Rb as D,Tb as w,Wb as _,Yb as b,bc as R,bd as _e,ca as se,cc as F,dc as N,g as I,gc as pe,ha as ce,hb as s,hc as r,ib as g,ic as E,jc as v,jd as fe,ma as M,pc as k,qc as W,t as re,ub as de,vc as he,xa as h,xc as ue,ya as u,zb as d}from"./chunk-7RJPMQXH.js";import"./chunk-WWX6BADO.js";var Q=(()=>{class e extends V{constructor(t){super(),this.httpClient=t,this.API_URL="assets/data/birth.json",this.isTblLoading=!0,this.dataChange=new I([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllBirths(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:t=>{this.isTblLoading=!1,this.dataChange.next(t)},error:t=>{this.isTblLoading=!1,console.log(t.name+" "+t.message)}})}addBirth(t){this.dialogData=t}updateBirth(t){this.dialogData=t}deleteBirth(t){console.log(t)}static{this.\u0275fac=function(n){return new(n||e)(ce(B))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var xt=class{constructor(l){this.id=l.id||this.getRandomID(),this.case_no=l.case_no||"",this.child_name=l.child_name||"",this.gender=l.gender||"Male",this.birth_date=T(new Date,"yyyy-MM-dd","en")||"",this.mother_name=l.mother_name||"",this.father_name=l.father_name||"",this.mobile=l.mobile||"",this.address=l.address||"",this.note=l.note||""}getRandomID(){let l=()=>(1+Math.random())*65536|0;return l()+l()}};function Ht(e,l){e&1&&(o(0,"mat-error"),r(1," Name is required "),a())}function Gt(e,l){e&1&&(o(0,"mat-error"),r(1," Child Name is required "),a())}function Lt(e,l){e&1&&(o(0,"mat-error"),r(1," Select gender "),a())}function Ot(e,l){e&1&&(o(0,"mat-error"),r(1," Please select date "),a())}function zt(e,l){e&1&&(o(0,"mat-error"),r(1," Mother Name is required "),a())}function Qt(e,l){e&1&&(o(0,"mat-error"),r(1," Father Name is required "),a())}function Ut(e,l){e&1&&(o(0,"mat-error"),r(1," Mobile is required "),a())}var wt=(()=>{class e{constructor(t,n,i,m){if(this.dialogRef=t,this.data=n,this.birthService=i,this.fb=m,this.formControl=new xe("",[Y.required]),this.action=n.action,this.action==="edit")this.dialogTitle=n.birth.child_name,this.birth=n.birth;else{this.dialogTitle="New Birth";let c={};this.birth=new xt(c)}this.birthForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.birth.id],case_no:[this.birth.case_no],child_name:[this.birth.child_name],gender:[this.birth.gender],birth_date:[T(this.birth.birth_date,"yyyy-MM-dd","en"),[Y.required]],mother_name:[this.birth.mother_name],father_name:[this.birth.father_name],mobile:[this.birth.mobile],address:[this.birth.address],note:[this.birth.note]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.birthService.addBirth(this.birthForm.getRawValue())}static{this.\u0275fac=function(n){return new(n||e)(g(G),g(L),g(Q),g(Me))}}static{this.\u0275cmp=M({type:e,selectors:[["app-form-dialog",5,"k"]],standalone:!0,features:[k],decls:89,vars:13,consts:[["picker",""],[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","case_no","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","child_name","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"m-b-20"],[1,"msr-3"],["aria-label","Select gender","formControlName","gender","required",""],["value","Male"],["value","Female"],["value","Other"],["matInput","","formControlName","birth_date",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","mother_name","required",""],["matInput","","formControlName","father_name","required",""],["matInput","","formControlName","mobile","type","number"],["matInput","","formControlName","address"],[1,"example-button-row"],["mat-flat-button","","color","primary",3,"click","disabled","mat-dialog-close"],["mat-flat-button","","color","warn","tabindex","-1",3,"click"]],template:function(n,i){if(n&1){let m=w();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),r(5),a()()(),o(6,"button",6),_("click",function(){return h(m),u(i.dialogRef.close())}),o(7,"mat-icon"),r(8,"close"),a()()(),o(9,"div",7)(10,"form",8),_("ngSubmit",function(){return h(m),u(i.submit)}),o(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),r(15,"Case No"),a(),f(16,"input",12),o(17,"mat-icon",13),r(18,"receipt"),a(),d(19,Ht,2,0,"mat-error"),a()(),o(20,"div",10)(21,"mat-form-field",11)(22,"mat-label"),r(23,"Child Name"),a(),f(24,"input",14),o(25,"mat-icon",13),r(26,"face"),a(),d(27,Gt,2,0,"mat-error"),a()()(),o(28,"div",9)(29,"div",15)(30,"div",16)(31,"mat-label",17),r(32,"Gender:"),a(),o(33,"mat-radio-group",18)(34,"mat-radio-button",19),r(35,"Male"),a(),o(36,"mat-radio-button",20),r(37,"Female"),a(),o(38,"mat-radio-button",21),r(39,"Other"),a(),d(40,Lt,2,0,"mat-error"),a()()()(),o(41,"div",9)(42,"div",10)(43,"mat-form-field",11)(44,"mat-label"),r(45,"Birth date"),a(),f(46,"input",22)(47,"mat-datepicker-toggle",23)(48,"mat-datepicker",null,0),d(50,Ot,2,0,"mat-error"),a()(),o(51,"div",10)(52,"mat-form-field",11)(53,"mat-label"),r(54,"Mother Name"),a(),f(55,"input",24),o(56,"mat-icon",13),r(57,"account_circle"),a(),d(58,zt,2,0,"mat-error"),a()()(),o(59,"div",9)(60,"div",10)(61,"mat-form-field",11)(62,"mat-label"),r(63,"Father Name"),a(),f(64,"input",25),o(65,"mat-icon",13),r(66,"account_circle"),a(),d(67,Qt,2,0,"mat-error"),a()(),o(68,"div",10)(69,"mat-form-field",11)(70,"mat-label"),r(71,"Mobile"),a(),f(72,"input",26),o(73,"mat-icon",13),r(74,"phone"),a(),d(75,Ut,2,0,"mat-error"),a()()(),o(76,"div",9)(77,"div",15)(78,"mat-form-field",11)(79,"mat-label"),r(80,"Address"),a(),f(81,"textarea",27),a()()(),o(82,"div",9)(83,"div",15)(84,"div",28)(85,"button",29),_("click",function(){return h(m),u(i.confirmAdd())}),r(86,"Save"),a(),o(87,"button",30),_("click",function(){return h(m),u(i.onNoClick())}),r(88,"Cancel"),a()()()()()()()}if(n&2){let m,c,S,ee,te,ie,ae,It=pe(49);s(5),v(" ",i.dialogTitle," "),s(5),p("formGroup",i.birthForm),s(9),C((m=i.birthForm.get("case_no"))!=null&&m.hasError("required")?19:-1),s(8),C((c=i.birthForm.get("child_name"))!=null&&c.hasError("required")?27:-1),s(13),C((S=i.birthForm.get("gender"))!=null&&S.hasError("required")?40:-1),s(6),p("matDatepicker",It),s(),p("for",It),s(3),C((ee=i.birthForm.get("birth_date"))!=null&&ee.hasError("required")?50:-1),s(8),C((te=i.birthForm.get("mother_name"))!=null&&te.hasError("required")?58:-1),s(9),C((ie=i.birthForm.get("father_name"))!=null&&ie.hasError("required")?67:-1),s(8),C((ae=i.birthForm.get("mobile"))!=null&&ae.hasError("required")?75:-1),s(10),p("disabled",!i.birthForm.valid)("mat-dialog-close",1)}},dependencies:[y,A,q,j,P,z,ke,De,ge,ve,Ce,be,we,Te,Se,Ee,Oe,Le,$e,He,Ge,Qe,ze,ot,at,nt,Ke,Ue,Xe,Je,O]})}}return e})();var Ft=(()=>{class e{constructor(t,n,i){this.dialogRef=t,this.data=n,this.birthService=i}onNoClick(){this.dialogRef.close()}confirmDelete(){this.birthService.deleteBirth(this.data.id)}static{this.\u0275fac=function(n){return new(n||e)(g(G),g(L),g(Q))}}static{this.\u0275cmp=M({type:e,selectors:[["app-delete",5,"k"]],standalone:!0,features:[k],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(n,i){n&1&&(o(0,"div",0)(1,"h3",1),r(2,"Are you sure?"),a(),o(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),r(8," Child Name: "),a(),r(9),a()(),o(10,"li")(11,"p")(12,"span",4),r(13," Gender: "),a(),r(14),a()(),o(15,"li")(16,"p")(17,"span",4),r(18,"Mother Name: "),a(),r(19),a()()()(),o(20,"div",5)(21,"button",6),_("click",function(){return i.confirmDelete()}),r(22," Delete "),a(),o(23,"button",7),_("click",function(){return i.onNoClick()}),r(24,"Cancel"),a()()()),n&2&&(s(9),E(i.data.child_name),s(5),E(i.data.gender),s(5),v("",i.data.mother_name," "),s(2),p("mat-dialog-close",1))},dependencies:[tt,z,it,y,A,O]})}}return e})();var ii=["filter"],ai=()=>["Records"],ni=()=>[5,10,25,100];function oi(e,l){if(e&1){let t=w();o(0,"mat-header-cell",53)(1,"mat-checkbox",54),_("change",function(i){h(t);let m=b();return u(i?m.masterToggle():null)}),a()()}if(e&2){let t=b();p("ngClass","tbl-col-width-per-6"),s(),p("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("ngClass","tbl-checkbox")}}function ri(e,l){if(e&1){let t=w();o(0,"mat-cell",53)(1,"mat-checkbox",55),_("click",function(i){return h(t),u(i.stopPropagation())})("change",function(i){let m=h(t).$implicit,c=b();return u(i?c.selection.toggle(m):null)}),a()()}if(e&2){let t=l.$implicit,n=b();p("ngClass","tbl-col-width-per-6"),s(),p("checked",n.selection.isSelected(t))("ngClass","tbl-checkbox")}}function li(e,l){e&1&&(o(0,"mat-header-cell",56),r(1,"Id"),a())}function mi(e,l){if(e&1&&(o(0,"mat-cell"),r(1),a()),e&2){let t=l.$implicit;s(),E(t.id)}}function si(e,l){e&1&&(o(0,"mat-header-cell",56),r(1,"Case No"),a())}function ci(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",57),r(2,"Case No:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),E(t.case_no)}}function di(e,l){e&1&&(o(0,"mat-header-cell",56),r(1,"Child Name"),a())}function pi(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",57),r(2,"Child Name:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),v("",t.child_name," ")}}function hi(e,l){e&1&&(o(0,"mat-header-cell",56),r(1," Gender "),a())}function ui(e,l){if(e&1&&(o(0,"div")(1,"span",59),r(2),a()()),e&2){let t=b().$implicit;s(2),v(" ",t.gender,"")}}function _i(e,l){if(e&1&&(o(0,"div")(1,"span",60),r(2),a()()),e&2){let t=b().$implicit;s(2),v(" ",t.gender,"")}}function fi(e,l){if(e&1&&(o(0,"div")(1,"span",61),r(2),a()()),e&2){let t=b().$implicit;s(2),v(" ",t.gender,"")}}function gi(e,l){if(e&1&&(o(0,"mat-cell",58)(1,"span",57),r(2,"Gender:"),a(),d(3,ui,3,1,"div")(4,_i,3,1,"div")(5,fi,3,1,"div"),a()),e&2){let t=l.$implicit;s(3),C(t.gender==="Male"?3:-1),s(),C(t.gender==="Female"?4:-1),s(),C(t.gender==="Other"?5:-1)}}function Ci(e,l){e&1&&(o(0,"mat-header-cell",56),r(1,"Birth Date"),a())}function bi(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",57),r(2,"Birth Date:"),a(),r(3),he(4,"date"),a()),e&2){let t=l.$implicit;s(3),E(ue(4,1,t.birth_date,"MM/dd/yyyy"))}}function xi(e,l){e&1&&(o(0,"mat-header-cell",56),r(1,"Mother Name"),a())}function Di(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",57),r(2,"Mother Name:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),v(" ",t.mother_name," ")}}function vi(e,l){e&1&&(o(0,"mat-header-cell",56),r(1,"Father Name"),a())}function Si(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",57),r(2,"Father Name:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),v("",t.father_name," ")}}function Ei(e,l){e&1&&(o(0,"mat-header-cell",56),r(1,"Mobile"),a())}function wi(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",57),r(2,"Mobile:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),E(t.mobile)}}function Mi(e,l){e&1&&(o(0,"mat-header-cell",56),r(1,"Address"),a())}function ki(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",62)(2,"span",57),r(3,"Address:"),a(),r(4),a()()),e&2){let t=l.$implicit;s(4),E(t.address)}}function Ti(e,l){e&1&&(o(0,"mat-header-cell",63),r(1,"Actions"),a())}function yi(e,l){if(e&1){let t=w();o(0,"mat-cell",63)(1,"button",64),_("click",function(i){return h(t),u(i.stopPropagation())})("click",function(){let i=h(t).$implicit,m=b();return u(m.editCall(i))}),f(2,"app-feather-icons",65),a(),o(3,"button",64),_("click",function(i){return h(t),u(i.stopPropagation())})("click",function(){let i=h(t).$implicit,m=b();return u(m.deleteItem(i))}),f(4,"app-feather-icons",65),a()()}e&2&&(s(2),K("tbl-fav-edit"),p("icon","edit"),s(2),K("tbl-fav-delete"),p("icon","trash-2"))}function Ii(e,l){e&1&&f(0,"mat-header-row")}function Ri(e,l){if(e&1){let t=w();o(0,"mat-row",66),_("click",function(){let i=h(t).$implicit,m=b();return u(m.editCall(i))}),a()}e&2&&J("cursor","pointer")}function Fi(e,l){e&1&&(o(0,"div",50),f(1,"mat-progress-spinner",67),a()),e&2&&(s(),p("diameter",40))}function Ni(e,l){if(e&1&&(o(0,"div",68),r(1," No results "),a()),e&2){let t=b();J("display",t.dataSource.renderedData.length===0?"":"none")}}var Nt=(()=>{class e extends V{constructor(t,n,i,m){super(),this.httpClient=t,this.dialog=n,this.birthService=i,this.snackBar=m,this.displayedColumns=["select","case_no","child_name","gender","birth_date","mother_name","father_name","mobile","address","actions"],this.selection=new Z(!0,[])}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let t;localStorage.getItem("isRtl")==="true"?t="rtl":t="ltr";let n=this.dialog.open(wt,{data:{birth:this.birth,action:"add"},direction:t});this.subs.sink=n.afterClosed().subscribe(i=>{i===1&&(this.exampleDatabase?.dataChange.value.unshift(this.birthService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}editCall(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(wt,{data:{birth:t,action:"edit"},direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let c=this.exampleDatabase?.dataChange.value.findIndex(S=>S.id===this.id);c!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value[c]=this.birthService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}deleteItem(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(Ft,{data:t,direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let c=this.exampleDatabase?.dataChange.value.findIndex(S=>S.id===this.id);c!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(c,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){let t=this.selection.selected.length,n=this.dataSource.renderedData.length;return t===n}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(t=>this.selection.select(t))}removeSelectedRows(){let t=this.selection.selected.length;this.selection.selected.forEach(n=>{let i=this.dataSource.renderedData.findIndex(m=>m===n);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new Z(!0,[])}),this.showNotification("snackbar-danger",t+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new Q(this.httpClient),this.dataSource=new Mt(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=le(this.filter?.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter?.nativeElement.value)})}exportExcel(){let t=this.dataSource.filteredData.map(n=>({"Case No":n.case_no,"Child Name":n.child_name,Gender:n.gender,"Birth Date":T(new Date(n.birth_date),"yyyy-MM-dd","en")||"","Mother Name":n.mother_name,"Father Name":n.father_name,Mobile:n.mobile,Address:n.address}));Re.exportToExcel(t,"excel")}showNotification(t,n,i,m){this.snackBar.open(n,"",{duration:2e3,verticalPosition:i,horizontalPosition:m,panelClass:t})}static{this.\u0275fac=function(n){return new(n||e)(g(B),g(et),g(Q),g(bt))}}static{this.\u0275cmp=M({type:e,selectors:[["app-birth"]],viewQuery:function(n,i){if(n&1&&(R($,7),R(H,7),R(ii,7)),n&2){let m;F(m=N())&&(i.paginator=m.first),F(m=N())&&(i.sort=m.first),F(m=N())&&(i.filter=m.first)}},standalone:!0,features:[de,k],decls:81,vars:15,consts:[["filter",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","case_no"],["matColumnDef","child_name"],["matColumnDef","gender"],["mat-cell","",4,"matCellDef"],["matColumnDef","birth_date"],["matColumnDef","mother_name"],["matColumnDef","father_name"],["matColumnDef","mobile"],["matColumnDef","address"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"ngClass"],[3,"change","checked","indeterminate","ngClass"],[3,"click","change","checked","ngClass"],["mat-sort-header",""],[1,"mobile-label"],["mat-cell",""],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"badge","badge-solid-purple"],[1,"truncate-text"],[1,"pr-0"],["mat-icon-button","",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(n,i){if(n&1){let m=w();o(0,"section",2)(1,"div",3)(2,"div",4),f(3,"app-breadcrumb",5),a(),o(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ul",11)(10,"li",12)(11,"h2"),r(12,"Birth Records"),a()(),o(13,"li",13)(14,"label",14)(15,"i",15),r(16,"search"),a()(),f(17,"input",16,0),a()()(),o(19,"div",17)(20,"ul",18)(21,"li",19)(22,"div",20)(23,"button",21),_("click",function(){return h(m),u(i.addNew())}),o(24,"mat-icon"),r(25,"add"),a()()()(),o(26,"li",19)(27,"div",22)(28,"button",21),_("click",function(){return h(m),u(i.refresh())}),o(29,"mat-icon"),r(30,"refresh"),a()()()(),o(31,"li",19)(32,"div",23)(33,"button",24),_("click",function(){return h(m),u(i.removeSelectedRows())}),o(34,"mat-icon"),r(35,"delete "),a()()()(),o(36,"li")(37,"div",25)(38,"img",26),_("click",function(){return h(m),u(i.exportExcel())}),a()()()()()(),o(39,"div",27)(40,"div",28)(41,"table",29),x(42,30),d(43,oi,2,4,"mat-header-cell",31)(44,ri,2,3,"mat-cell",32),D(),x(45,33),d(46,li,2,0,"mat-header-cell",34)(47,mi,2,1,"mat-cell",35),D(),x(48,36),d(49,si,2,0,"mat-header-cell",34)(50,ci,4,1,"mat-cell",35),D(),x(51,37),d(52,di,2,0,"mat-header-cell",34)(53,pi,4,1,"mat-cell",35),D(),x(54,38),d(55,hi,2,0,"mat-header-cell",34)(56,gi,6,3,"mat-cell",39),D(),x(57,40),d(58,Ci,2,0,"mat-header-cell",34)(59,bi,5,4,"mat-cell",35),D(),x(60,41),d(61,xi,2,0,"mat-header-cell",34)(62,Di,4,1,"mat-cell",35),D(),x(63,42),d(64,vi,2,0,"mat-header-cell",34)(65,Si,4,1,"mat-cell",35),D(),x(66,43),d(67,Ei,2,0,"mat-header-cell",34)(68,wi,4,1,"mat-cell",35),D(),x(69,44),d(70,Mi,2,0,"mat-header-cell",34)(71,ki,5,1,"mat-cell",35),D(),x(72,45),d(73,Ti,2,0,"mat-header-cell",46)(74,yi,5,6,"mat-cell",47),D(),d(75,Ii,1,0,"mat-header-row",48)(76,Ri,1,2,"mat-row",49),a(),d(77,Fi,2,1,"div",50)(78,Ni,2,2,"div",51),f(79,"mat-paginator",52,1),a()()()()()()()}n&2&&(s(3),p("title","Birth Records")("items",W(13,ai))("active_item","Birth Records"),s(29),p("hidden",!i.selection.hasValue()),s(9),p("dataSource",i.dataSource),s(34),p("matHeaderRowDef",i.displayedColumns),s(),p("matRowDefColumns",i.displayedColumns),s(),C(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?77:-1),s(),C(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?-1:78),s(),p("length",i.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",W(14,ni)))},dependencies:[Ve,qe,Ae,y,q,Be,j,P,Ct,mt,ct,ut,dt,st,_t,pt,ht,ft,gt,Ze,H,Ye,_e,je,Pe,Ne,Ie,ye,lt,rt,We,$,fe]})}}return e})(),Mt=class extends Fe{get filter(){return this.filterChange.value}set filter(l){this.filterChange.next(l)}constructor(l,t,n){super(),this.exampleDatabase=l,this.paginator=t,this._sort=n,this.filterChange=new I(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){let l=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllBirths(),me(...l).pipe(re(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>(i.case_no+i.child_name+i.gender+i.birth_date+i.mother_name+i.father_name+i.mobile+i.address).toLowerCase().indexOf(this.filter.toLowerCase())!==-1);let t=this.sortData(this.filteredData.slice()),n=this.paginator.pageIndex*this.paginator.pageSize;return this.renderedData=t.splice(n,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(l){return!this._sort.active||this._sort.direction===""?l:l.sort((t,n)=>{let i="",m="";switch(this._sort.active){case"id":[i,m]=[t.id,n.id];break;case"case_no":[i,m]=[t.case_no,n.case_no];break;case"child_name":[i,m]=[t.child_name,n.child_name];break;case"gender":[i,m]=[t.gender,n.gender];break;case"birth_date":[i,m]=[t.birth_date,n.birth_date];break;case"mother_name":[i,m]=[t.mother_name,n.mother_name];break;case"father_name":[i,m]=[t.father_name,n.father_name];break;case"address":[i,m]=[t.address,n.address];break;case"mobile":[i,m]=[t.mobile,n.mobile];break}let c=isNaN(+i)?i:+i,S=isNaN(+m)?m:+m;return(c<S?-1:1)*(this._sort.direction==="asc"?1:-1)})}};var U=(()=>{class e extends V{constructor(t){super(),this.httpClient=t,this.API_URL="assets/data/death.json",this.isTblLoading=!0,this.dataChange=new I([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllDeaths(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:t=>{this.isTblLoading=!1,this.dataChange.next(t)},error:t=>{this.isTblLoading=!1,console.log(t.name+" "+t.message)}})}addDeath(t){this.dialogData=t}updateDeath(t){this.dialogData=t}deleteDeath(t){console.log(t)}static{this.\u0275fac=function(n){return new(n||e)(ce(B))}}static{this.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Dt=class{constructor(l){this.id=l.id||this.getRandomID(),this.case_no=l.case_no||"",this.patient_name=l.patient_name||"",this.gender=l.gender||"Male",this.death_date=T(new Date,"yyyy-MM-dd","en")||"",this.gaurdian_name=l.gaurdian_name||"",this.mobile=l.mobile||"",this.address=l.address||"",this.note=l.note||""}getRandomID(){let l=()=>(1+Math.random())*65536|0;return l()+l()}};function Bi(e,l){e&1&&(o(0,"mat-error"),r(1," Name is required "),a())}function Vi(e,l){e&1&&(o(0,"mat-error"),r(1," Patient Name is required "),a())}function Ai(e,l){e&1&&(o(0,"mat-error"),r(1," Select gender "),a())}function qi(e,l){e&1&&(o(0,"mat-error"),r(1," Please select date "),a())}function Pi(e,l){e&1&&(o(0,"mat-error"),r(1," Gaurdian Name is required "),a())}function ji(e,l){e&1&&(o(0,"mat-error"),r(1," Mobile is required "),a())}var Tt=(()=>{class e{constructor(t,n,i,m){if(this.dialogRef=t,this.data=n,this.deathService=i,this.fb=m,this.formControl=new xe("",[Y.required]),this.action=n.action,this.action==="edit")this.dialogTitle=n.death.patient_name,this.death=n.death;else{this.dialogTitle="New Death";let c={};this.death=new Dt(c)}this.deathForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.death.id],case_no:[this.death.case_no],patient_name:[this.death.patient_name],gender:[this.death.gender],death_date:[T(this.death.death_date,"yyyy-MM-dd","en"),[Y.required]],gaurdian_name:[this.death.gaurdian_name],mobile:[this.death.mobile],address:[this.death.address],note:[this.death.note]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.deathService.addDeath(this.deathForm.getRawValue())}static{this.\u0275fac=function(n){return new(n||e)(g(G),g(L),g(U),g(Me))}}static{this.\u0275cmp=M({type:e,selectors:[["app-form-dialog",5,"l"]],standalone:!0,features:[k],decls:81,vars:12,consts:[["picker",""],[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","case_no","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","patient_name","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"m-b-20"],[1,"msr-3"],["aria-label","Select gender","formControlName","gender","required",""],["value","Male"],["value","Female"],["value","Other"],["matInput","","formControlName","death_date",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","gaurdian_name","required",""],["matInput","","formControlName","mobile","type","number"],["matInput","","formControlName","address"],[1,"example-button-row"],["mat-flat-button","","color","primary",3,"click","disabled","mat-dialog-close"],["mat-flat-button","","color","warn","tabindex","-1",3,"click"]],template:function(n,i){if(n&1){let m=w();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),r(5),a()()(),o(6,"button",6),_("click",function(){return h(m),u(i.dialogRef.close())}),o(7,"mat-icon"),r(8,"close"),a()()(),o(9,"div",7)(10,"form",8),_("ngSubmit",function(){return h(m),u(i.submit)}),o(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),r(15,"Case No"),a(),f(16,"input",12),o(17,"mat-icon",13),r(18,"receipt"),a(),d(19,Bi,2,0,"mat-error"),a()(),o(20,"div",10)(21,"mat-form-field",11)(22,"mat-label"),r(23,"Patient Name"),a(),f(24,"input",14),o(25,"mat-icon",13),r(26,"account_circle"),a(),d(27,Vi,2,0,"mat-error"),a()()(),o(28,"div",9)(29,"div",15)(30,"div",16)(31,"mat-label",17),r(32,"Gender:"),a(),o(33,"mat-radio-group",18)(34,"mat-radio-button",19),r(35,"Male"),a(),o(36,"mat-radio-button",20),r(37,"Female"),a(),o(38,"mat-radio-button",21),r(39,"Other"),a(),d(40,Ai,2,0,"mat-error"),a()()()(),o(41,"div",9)(42,"div",10)(43,"mat-form-field",11)(44,"mat-label"),r(45,"Death date"),a(),f(46,"input",22)(47,"mat-datepicker-toggle",23)(48,"mat-datepicker",null,0),d(50,qi,2,0,"mat-error"),a()(),o(51,"div",10)(52,"mat-form-field",11)(53,"mat-label"),r(54,"Gaurdian Name"),a(),f(55,"input",24),o(56,"mat-icon",13),r(57,"account_circle"),a(),d(58,Pi,2,0,"mat-error"),a()()(),o(59,"div",9)(60,"div",10)(61,"mat-form-field",11)(62,"mat-label"),r(63,"Mobile"),a(),f(64,"input",25),o(65,"mat-icon",13),r(66,"phone"),a(),d(67,ji,2,0,"mat-error"),a()()(),o(68,"div",9)(69,"div",15)(70,"mat-form-field",11)(71,"mat-label"),r(72,"Address"),a(),f(73,"textarea",26),a()()(),o(74,"div",9)(75,"div",15)(76,"div",27)(77,"button",28),_("click",function(){return h(m),u(i.confirmAdd())}),r(78,"Save"),a(),o(79,"button",29),_("click",function(){return h(m),u(i.onNoClick())}),r(80,"Cancel"),a()()()()()()()}if(n&2){let m,c,S,ee,te,ie,ae=pe(49);s(5),v(" ",i.dialogTitle," "),s(5),p("formGroup",i.deathForm),s(9),C((m=i.deathForm.get("case_no"))!=null&&m.hasError("required")?19:-1),s(8),C((c=i.deathForm.get("patient_name"))!=null&&c.hasError("required")?27:-1),s(13),C((S=i.deathForm.get("gender"))!=null&&S.hasError("required")?40:-1),s(6),p("matDatepicker",ae),s(),p("for",ae),s(3),C((ee=i.deathForm.get("death_date"))!=null&&ee.hasError("required")?50:-1),s(8),C((te=i.deathForm.get("gaurdian_name"))!=null&&te.hasError("required")?58:-1),s(9),C((ie=i.deathForm.get("mobile"))!=null&&ie.hasError("required")?67:-1),s(10),p("disabled",!i.deathForm.valid)("mat-dialog-close",1)}},dependencies:[y,A,q,j,P,z,ke,De,ge,ve,Ce,be,we,Te,Se,Ee,Oe,Le,$e,He,Ge,Qe,ze,ot,at,nt,Ke,Ue,Xe,Je,O]})}}return e})();var Bt=(()=>{class e{constructor(t,n,i){this.dialogRef=t,this.data=n,this.deathService=i}onNoClick(){this.dialogRef.close()}confirmDelete(){this.deathService.deleteDeath(this.data.id)}static{this.\u0275fac=function(n){return new(n||e)(g(G),g(L),g(U))}}static{this.\u0275cmp=M({type:e,selectors:[["app-delete",5,"l"]],standalone:!0,features:[k],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(n,i){n&1&&(o(0,"div",0)(1,"h3",1),r(2,"Are you sure?"),a(),o(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),r(8," Patient Name: "),a(),r(9),a()(),o(10,"li")(11,"p")(12,"span",4),r(13," Gender: "),a(),r(14),a()(),o(15,"li")(16,"p")(17,"span",4),r(18,"Gaurdian Name: "),a(),r(19),a()()()(),o(20,"div",5)(21,"button",6),_("click",function(){return i.confirmDelete()}),r(22," Delete "),a(),o(23,"button",7),_("click",function(){return i.onNoClick()}),r(24,"Cancel"),a()()()),n&2&&(s(9),E(i.data.patient_name),s(5),E(i.data.gender),s(5),v("",i.data.gaurdian_name," "),s(2),p("mat-dialog-close",1))},dependencies:[tt,z,it,y,A,O]})}}return e})();var $i=["filter"],Hi=()=>["Records"],Gi=()=>[5,10,25,100];function Li(e,l){if(e&1){let t=w();o(0,"mat-header-cell",52)(1,"mat-checkbox",53),_("change",function(i){h(t);let m=b();return u(i?m.masterToggle():null)}),a()()}if(e&2){let t=b();p("ngClass","tbl-col-width-per-6"),s(),p("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("ngClass","tbl-checkbox")}}function Oi(e,l){if(e&1){let t=w();o(0,"mat-cell",52)(1,"mat-checkbox",54),_("click",function(i){return h(t),u(i.stopPropagation())})("change",function(i){let m=h(t).$implicit,c=b();return u(i?c.selection.toggle(m):null)}),a()()}if(e&2){let t=l.$implicit,n=b();p("ngClass","tbl-col-width-per-6"),s(),p("checked",n.selection.isSelected(t))("ngClass","tbl-checkbox")}}function zi(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Id"),a())}function Qi(e,l){if(e&1&&(o(0,"mat-cell"),r(1),a()),e&2){let t=l.$implicit;s(),E(t.id)}}function Ui(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Case No"),a())}function Xi(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",56),r(2,"Case No:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),v(" ",t.case_no,"")}}function Ji(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Patient Name"),a())}function Ki(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",56),r(2,"Patient Name:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),v("",t.patient_name," ")}}function Wi(e,l){e&1&&(o(0,"mat-header-cell",55),r(1," Gender "),a())}function Yi(e,l){if(e&1&&(o(0,"div")(1,"span",58),r(2),a()()),e&2){let t=b().$implicit;s(2),v(" ",t.gender,"")}}function Zi(e,l){if(e&1&&(o(0,"div")(1,"span",59),r(2),a()()),e&2){let t=b().$implicit;s(2),v(" ",t.gender,"")}}function ea(e,l){if(e&1&&(o(0,"div")(1,"span",60),r(2),a()()),e&2){let t=b().$implicit;s(2),v(" ",t.gender,"")}}function ta(e,l){if(e&1&&(o(0,"mat-cell",57)(1,"span",56),r(2,"Gender:"),a(),d(3,Yi,3,1,"div")(4,Zi,3,1,"div")(5,ea,3,1,"div"),a()),e&2){let t=l.$implicit;s(3),C(t.gender==="Male"?3:-1),s(),C(t.gender==="Female"?4:-1),s(),C(t.gender==="Other"?5:-1)}}function ia(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Death Date"),a())}function aa(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",56),r(2,"Death Date:"),a(),r(3),he(4,"date"),a()),e&2){let t=l.$implicit;s(3),E(ue(4,1,t.death_date,"MM/dd/yyyy"))}}function na(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Gaurdian Name"),a())}function oa(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",56),r(2,"Gaurdian Name:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),v(" ",t.gaurdian_name," ")}}function ra(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Mobile"),a())}function la(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",56),r(2,"Mobile:"),a(),r(3),a()),e&2){let t=l.$implicit;s(3),E(t.mobile)}}function ma(e,l){e&1&&(o(0,"mat-header-cell",55),r(1,"Address"),a())}function sa(e,l){if(e&1&&(o(0,"mat-cell")(1,"span",61)(2,"span",56),r(3,"Address:"),a(),r(4),a()()),e&2){let t=l.$implicit;s(4),E(t.address)}}function ca(e,l){e&1&&(o(0,"mat-header-cell",62),r(1,"Actions"),a())}function da(e,l){if(e&1){let t=w();o(0,"mat-cell",62)(1,"button",63),_("click",function(i){return h(t),u(i.stopPropagation())})("click",function(){let i=h(t).$implicit,m=b();return u(m.editCall(i))}),f(2,"app-feather-icons",64),a(),o(3,"button",63),_("click",function(i){return h(t),u(i.stopPropagation())})("click",function(){let i=h(t).$implicit,m=b();return u(m.deleteItem(i))}),f(4,"app-feather-icons",64),a()()}e&2&&(s(2),K("tbl-fav-edit"),p("icon","edit"),s(2),K("tbl-fav-delete"),p("icon","trash-2"))}function pa(e,l){e&1&&f(0,"mat-header-row")}function ha(e,l){if(e&1){let t=w();o(0,"mat-row",65),_("click",function(){let i=h(t).$implicit,m=b();return u(m.editCall(i))}),a()}e&2&&J("cursor","pointer")}function ua(e,l){e&1&&(o(0,"div",49),f(1,"mat-progress-spinner",66),a()),e&2&&(s(),p("diameter",40))}function _a(e,l){if(e&1&&(o(0,"div",67),r(1," No results "),a()),e&2){let t=b();J("display",t.dataSource.renderedData.length===0?"":"none")}}var Vt=(()=>{class e extends V{constructor(t,n,i,m){super(),this.httpClient=t,this.dialog=n,this.deathService=i,this.snackBar=m,this.displayedColumns=["select","case_no","patient_name","gender","death_date","gaurdian_name","mobile","address","actions"],this.selection=new Z(!0,[])}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let t;localStorage.getItem("isRtl")==="true"?t="rtl":t="ltr";let n=this.dialog.open(Tt,{data:{death:this.death,action:"add"},direction:t});this.subs.sink=n.afterClosed().subscribe(i=>{i===1&&(this.exampleDatabase?.dataChange.value.unshift(this.deathService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}editCall(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(Tt,{data:{death:t,action:"edit"},direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let c=this.exampleDatabase?.dataChange.value.findIndex(S=>S.id===this.id);c!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value[c]=this.deathService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}deleteItem(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(Bt,{data:t,direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let c=this.exampleDatabase?.dataChange.value.findIndex(S=>S.id===this.id);c!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(c,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){let t=this.selection.selected.length,n=this.dataSource.renderedData.length;return t===n}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(t=>this.selection.select(t))}removeSelectedRows(){let t=this.selection.selected.length;this.selection.selected.forEach(n=>{let i=this.dataSource.renderedData.findIndex(m=>m===n);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new Z(!0,[])}),this.showNotification("snackbar-danger",t+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new U(this.httpClient),this.dataSource=new yt(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=le(this.filter?.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter?.nativeElement.value)})}exportExcel(){let t=this.dataSource.filteredData.map(n=>({"Case No":n.case_no,"Patient Name":n.patient_name,Gender:n.gender,"Death Date":T(new Date(n.death_date),"yyyy-MM-dd","en")||"","Gaurdian Name":n.gaurdian_name,Mobile:n.mobile,Address:n.address}));Re.exportToExcel(t,"excel")}showNotification(t,n,i,m){this.snackBar.open(n,"",{duration:2e3,verticalPosition:i,horizontalPosition:m,panelClass:t})}static{this.\u0275fac=function(n){return new(n||e)(g(B),g(et),g(U),g(bt))}}static{this.\u0275cmp=M({type:e,selectors:[["app-death"]],viewQuery:function(n,i){if(n&1&&(R($,7),R(H,7),R($i,7)),n&2){let m;F(m=N())&&(i.paginator=m.first),F(m=N())&&(i.sort=m.first),F(m=N())&&(i.filter=m.first)}},standalone:!0,features:[de,k],decls:78,vars:15,consts:[["filter",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","case_no"],["matColumnDef","patient_name"],["matColumnDef","gender"],["mat-cell","",4,"matCellDef"],["matColumnDef","death_date"],["matColumnDef","gaurdian_name"],["matColumnDef","mobile"],["matColumnDef","address"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"ngClass"],[3,"change","checked","indeterminate","ngClass"],[3,"click","change","checked","ngClass"],["mat-sort-header",""],[1,"mobile-label"],["mat-cell",""],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"badge","badge-solid-purple"],[1,"truncate-text"],[1,"pr-0"],["mat-icon-button","",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(n,i){if(n&1){let m=w();o(0,"section",2)(1,"div",3)(2,"div",4),f(3,"app-breadcrumb",5),a(),o(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ul",11)(10,"li",12)(11,"h2"),r(12,"Death Records"),a()(),o(13,"li",13)(14,"label",14)(15,"i",15),r(16,"search"),a()(),f(17,"input",16,0),a()()(),o(19,"div",17)(20,"ul",18)(21,"li",19)(22,"div",20)(23,"button",21),_("click",function(){return h(m),u(i.addNew())}),o(24,"mat-icon"),r(25,"add"),a()()()(),o(26,"li",19)(27,"div",22)(28,"button",21),_("click",function(){return h(m),u(i.refresh())}),o(29,"mat-icon"),r(30,"refresh"),a()()()(),o(31,"li",19)(32,"div",23)(33,"button",24),_("click",function(){return h(m),u(i.removeSelectedRows())}),o(34,"mat-icon"),r(35,"delete "),a()()()(),o(36,"li")(37,"div",25)(38,"img",26),_("click",function(){return h(m),u(i.exportExcel())}),a()()()()()(),o(39,"div",27)(40,"div",28)(41,"table",29),x(42,30),d(43,Li,2,4,"mat-header-cell",31)(44,Oi,2,3,"mat-cell",32),D(),x(45,33),d(46,zi,2,0,"mat-header-cell",34)(47,Qi,2,1,"mat-cell",35),D(),x(48,36),d(49,Ui,2,0,"mat-header-cell",34)(50,Xi,4,1,"mat-cell",35),D(),x(51,37),d(52,Ji,2,0,"mat-header-cell",34)(53,Ki,4,1,"mat-cell",35),D(),x(54,38),d(55,Wi,2,0,"mat-header-cell",34)(56,ta,6,3,"mat-cell",39),D(),x(57,40),d(58,ia,2,0,"mat-header-cell",34)(59,aa,5,4,"mat-cell",35),D(),x(60,41),d(61,na,2,0,"mat-header-cell",34)(62,oa,4,1,"mat-cell",35),D(),x(63,42),d(64,ra,2,0,"mat-header-cell",34)(65,la,4,1,"mat-cell",35),D(),x(66,43),d(67,ma,2,0,"mat-header-cell",34)(68,sa,5,1,"mat-cell",35),D(),x(69,44),d(70,ca,2,0,"mat-header-cell",45)(71,da,5,6,"mat-cell",46),D(),d(72,pa,1,0,"mat-header-row",47)(73,ha,1,2,"mat-row",48),a(),d(74,ua,2,1,"div",49)(75,_a,2,2,"div",50),f(76,"mat-paginator",51,1),a()()()()()()()}n&2&&(s(3),p("title","Death Records")("items",W(13,Hi))("active_item","Death Records"),s(29),p("hidden",!i.selection.hasValue()),s(9),p("dataSource",i.dataSource),s(31),p("matHeaderRowDef",i.displayedColumns),s(),p("matRowDefColumns",i.displayedColumns),s(),C(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?74:-1),s(),C(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?-1:75),s(),p("length",i.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",W(14,Gi)))},dependencies:[Ve,qe,Ae,y,q,Be,j,P,Ct,mt,ct,ut,dt,st,_t,pt,ht,ft,gt,Ze,H,Ye,_e,je,Pe,Ne,Ie,ye,lt,rt,We,$,fe]})}}return e})(),yt=class extends Fe{get filter(){return this.filterChange.value}set filter(l){this.filterChange.next(l)}constructor(l,t,n){super(),this.exampleDatabase=l,this.paginator=t,this._sort=n,this.filterChange=new I(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){let l=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllDeaths(),me(...l).pipe(re(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>(i.case_no+i.patient_name+i.gender+i.death_date+i.gaurdian_name+i.mobile+i.address).toLowerCase().indexOf(this.filter.toLowerCase())!==-1);let t=this.sortData(this.filteredData.slice()),n=this.paginator.pageIndex*this.paginator.pageSize;return this.renderedData=t.splice(n,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(l){return!this._sort.active||this._sort.direction===""?l:l.sort((t,n)=>{let i="",m="";switch(this._sort.active){case"id":[i,m]=[t.id,n.id];break;case"case_no":[i,m]=[t.case_no,n.case_no];break;case"patient_name":[i,m]=[t.patient_name,n.patient_name];break;case"gender":[i,m]=[t.gender,n.gender];break;case"death_date":[i,m]=[t.death_date,n.death_date];break;case"gaurdian_name":[i,m]=[t.gaurdian_name,n.gaurdian_name];break;case"address":[i,m]=[t.address,n.address];break;case"mobile":[i,m]=[t.mobile,n.mobile];break}let c=isNaN(+i)?i:+i,S=isNaN(+m)?m:+m;return(c<S?-1:1)*(this._sort.direction==="asc"?1:-1)})}};var On=[{path:"birth",component:Nt},{path:"death",component:Vt},{path:"**",component:Rt}];export{On as RECORDS_ROUTE};
