import{a as Nt,b as Vt,c as Ft}from"./chunk-RQM3OA6I.js";import{a as Lt,b as yt,c as kt,d as At}from"./chunk-6XC4OIHM.js";import{a as B,b as Oe,c as ze}from"./chunk-TPS7JDQE.js";import{a as Ye,b as Xe}from"./chunk-V3SXUE67.js";import{e as H,f as $,g as Ge,h as O,i as Qe,j as z,k as Ue}from"./chunk-YVOO45KF.js";import{a as rt}from"./chunk-VDYSTRYE.js";import{a as j,b as $e,c as Je,d as Ke,e as We,f as Ze,g as et,h as tt,i as it,j as at,k as nt,l as lt,m as ot}from"./chunk-2CJUUZKP.js";import{a as Tt,c as It}from"./chunk-WFCBZMOK.js";import{a as Fe,b as Re,e as qe,h as Pe,i as je,k as Be,l as He}from"./chunk-NGCM74YQ.js";import{a as Me}from"./chunk-YMQHLQQG.js";import{a as V}from"./chunk-FJTSEEVS.js";import{a as Te,b as Ie}from"./chunk-K2KKAUUH.js";import{a as Ne,b as Ve}from"./chunk-RFGOVY3U.js";import"./chunk-YZAUISFT.js";import{a as Ae}from"./chunk-SYJZ7TFE.js";import{a as ye}from"./chunk-M5ER3LDY.js";import{a as Mt}from"./chunk-PAR2PYJ5.js";import"./chunk-Q5C5JM7P.js";import{a as Le,f as W}from"./chunk-ISHFCIHQ.js";import"./chunk-6RKQVV62.js";import{A as P,c as pe,e as ie,g as ue,h as _e,l as fe,n as he,o as Ce,q as be,r as ve,v as ge,w as xe,x as Se,y as De,z as q}from"./chunk-R46S23NL.js";import{$ as we,_ as Ee,ga as Et,ja as wt,ma as F,pa as ke,qa as R,ra as y}from"./chunk-2NP4DWSL.js";import"./chunk-CARY4E7O.js";import"./chunk-XNC6UF33.js";import{c as N}from"./chunk-JZYGA36G.js";import{$c as K,A as oe,D as re,Eb as d,Fb as Y,Hb as X,Jb as b,Nb as l,Ob as a,Pb as h,Qb as v,Rb as g,Tb as w,Wb as u,Yb as S,bc as A,bd as de,ca as me,cc as T,dc as I,g as k,gc as gt,ha as ce,hb as c,hc as o,ib as C,ic as E,jc as x,jd as Dt,ma as M,pc as L,qc as J,t as le,ub as se,vc as xt,xa as _,xc as St,ya as f,zb as s}from"./chunk-7RJPMQXH.js";import"./chunk-WWX6BADO.js";var G=(()=>{class e extends V{constructor(t){super(),this.httpClient=t,this.API_URL="assets/data/ambulanceCallList.json",this.isTblLoading=!0,this.dataChange=new k([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllAmbulanceCallLists(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:t=>{this.isTblLoading=!1,this.dataChange.next(t)},error:t=>{this.isTblLoading=!1,console.log(t.name+" "+t.message)}})}addAmbulanceCallList(t){this.dialogData=t}updateAmbulanceCallList(t){this.dialogData=t}deleteAmbulanceCallList(t){console.log(t)}static{this.\u0275fac=function(n){return new(n||e)(ce(N))}}static{this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var mt=class{constructor(r){this.id=r.id||this.getRandomID(),this.case_no=r.case_no||"",this.patient_name=r.patient_name||"",this.gender=r.gender||"Male",this.date=K(new Date,"yyyy-MM-dd","en")||"",this.vehicle_no=r.vehicle_no||"",this.driver_name=r.driver_name||"",this.driver_no=r.driver_no||"",this.patient_address=r.patient_address||"",this.note=r.note||""}getRandomID(){let r=()=>(1+Math.random())*65536|0;return r()+r()}};function zt(e,r){e&1&&(l(0,"mat-error"),o(1," Name is required "),a())}function Gt(e,r){e&1&&(l(0,"mat-error"),o(1," Patient Name is required "),a())}function Qt(e,r){e&1&&(l(0,"mat-error"),o(1," Select gender "),a())}function Ut(e,r){e&1&&(l(0,"mat-error"),o(1," Please select date "),a())}function Yt(e,r){e&1&&(l(0,"mat-error"),o(1," Vehicle No Name is required "),a())}function Xt(e,r){e&1&&(l(0,"mat-error"),o(1," Driver Name is required "),a())}function Jt(e,r){e&1&&(l(0,"mat-error"),o(1," Driver No is required "),a())}var ut=(()=>{class e{constructor(t,n,i,m){if(this.dialogRef=t,this.data=n,this.ambulanceCallListService=i,this.fb=m,this.formControl=new fe("",[ie.required]),this.action=n.action,this.action==="edit")this.dialogTitle=n.ambulanceCallList.patient_name,this.ambulanceCallList=n.ambulanceCallList;else{this.dialogTitle="Add Ambulance Call";let p={};this.ambulanceCallList=new mt(p)}this.ambulanceCallListForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.ambulanceCallList.id],case_no:[this.ambulanceCallList.case_no],patient_name:[this.ambulanceCallList.patient_name],gender:[this.ambulanceCallList.gender],date:[K(this.ambulanceCallList.date,"yyyy-MM-dd","en"),[ie.required]],vehicle_no:[this.ambulanceCallList.vehicle_no],driver_name:[this.ambulanceCallList.driver_name],driver_no:[this.ambulanceCallList.driver_no],patient_address:[this.ambulanceCallList.patient_address],note:[this.ambulanceCallList.note]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.ambulanceCallListService.addAmbulanceCallList(this.ambulanceCallListForm.getRawValue())}static{this.\u0275fac=function(n){return new(n||e)(C(H),C($),C(G),C(xe))}}static{this.\u0275cmp=M({type:e,selectors:[["app-form-dialog",5,"a"]],standalone:!0,features:[L],decls:89,vars:13,consts:[["picker",""],[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","case_no","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","patient_name","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"m-b-20"],[1,"msr-3"],["aria-label","Select gender","formControlName","gender","required",""],["value","Male"],["value","Female"],["value","Other"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","vehicle_no","required",""],["matInput","","formControlName","driver_name"],["matInput","","formControlName","driver_no","type","number"],["matInput","","formControlName","patient_address"],[1,"example-button-row"],["mat-flat-button","","color","primary",3,"click","disabled","mat-dialog-close"],["mat-flat-button","","color","warn","tabindex","-1",3,"click"]],template:function(n,i){if(n&1){let m=w();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),o(5),a()()(),l(6,"button",6),u("click",function(){return _(m),f(i.dialogRef.close())}),l(7,"mat-icon"),o(8,"close"),a()()(),l(9,"div",7)(10,"form",8),u("ngSubmit",function(){return _(m),f(i.submit)}),l(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),o(15,"Case No"),a(),h(16,"input",12),l(17,"mat-icon",13),o(18,"receipt"),a(),s(19,zt,2,0,"mat-error"),a()(),l(20,"div",10)(21,"mat-form-field",11)(22,"mat-label"),o(23,"Patient Name"),a(),h(24,"input",14),l(25,"mat-icon",13),o(26,"account_circle"),a(),s(27,Gt,2,0,"mat-error"),a()()(),l(28,"div",9)(29,"div",15)(30,"div",16)(31,"mat-label",17),o(32,"Gender:"),a(),l(33,"mat-radio-group",18)(34,"mat-radio-button",19),o(35,"Male"),a(),l(36,"mat-radio-button",20),o(37,"Female"),a(),l(38,"mat-radio-button",21),o(39,"Other"),a(),s(40,Qt,2,0,"mat-error"),a()()()(),l(41,"div",9)(42,"div",10)(43,"mat-form-field",11)(44,"mat-label"),o(45,"Date"),a(),h(46,"input",22)(47,"mat-datepicker-toggle",23)(48,"mat-datepicker",null,0),s(50,Ut,2,0,"mat-error"),a()(),l(51,"div",10)(52,"mat-form-field",11)(53,"mat-label"),o(54,"Vehicle No"),a(),h(55,"input",24),l(56,"mat-icon",13),o(57,"airport_shuttle"),a(),s(58,Yt,2,0,"mat-error"),a()()(),l(59,"div",9)(60,"div",10)(61,"mat-form-field",11)(62,"mat-label"),o(63,"Driver Name"),a(),h(64,"input",25),l(65,"mat-icon",13),o(66,"account_circle"),a(),s(67,Xt,2,0,"mat-error"),a()(),l(68,"div",10)(69,"mat-form-field",11)(70,"mat-label"),o(71,"Driver No"),a(),h(72,"input",26),l(73,"mat-icon",13),o(74,"phone"),a(),s(75,Jt,2,0,"mat-error"),a()()(),l(76,"div",9)(77,"div",15)(78,"mat-form-field",11)(79,"mat-label"),o(80,"Patient Address"),a(),h(81,"textarea",27),a()()(),l(82,"div",9)(83,"div",15)(84,"div",28)(85,"button",29),u("click",function(){return _(m),f(i.confirmAdd())}),o(86,"Save"),a(),l(87,"button",30),u("click",function(){return _(m),f(i.onNoClick())}),o(88,"Cancel"),a()()()()()()()}if(n&2){let m,p,D,Z,ee,te,bt,vt=gt(49);c(5),x(" ",i.dialogTitle," "),c(5),d("formGroup",i.ambulanceCallListForm),c(9),b((m=i.ambulanceCallListForm.get("case_no"))!=null&&m.hasError("required")?19:-1),c(8),b((p=i.ambulanceCallListForm.get("patient_name"))!=null&&p.hasError("required")?27:-1),c(13),b((D=i.ambulanceCallListForm.get("gender"))!=null&&D.hasError("required")?40:-1),c(6),d("matDatepicker",vt),c(),d("for",vt),c(3),b((Z=i.ambulanceCallListForm.get("date"))!=null&&Z.hasError("required")?50:-1),c(8),b((ee=i.ambulanceCallListForm.get("vehicle_no"))!=null&&ee.hasError("required")?58:-1),c(9),b((te=i.ambulanceCallListForm.get("driver_name"))!=null&&te.hasError("required")?67:-1),c(8),b((bt=i.ambulanceCallListForm.get("driver_no"))!=null&&bt.hasError("required")?75:-1),c(10),d("disabled",!i.ambulanceCallListForm.valid)("mat-dialog-close",1)}},dependencies:[y,F,R,P,q,z,Se,he,pe,Ce,ue,_e,ge,De,be,ve,je,Pe,Fe,Re,qe,He,Be,Ft,Nt,Vt,At,Lt,yt,kt,O]})}}return e})();var Rt=(()=>{class e{constructor(t,n,i){this.dialogRef=t,this.data=n,this.ambulanceCallListService=i}onNoClick(){this.dialogRef.close()}confirmDelete(){this.ambulanceCallListService.deleteAmbulanceCallList(this.data.id)}static{this.\u0275fac=function(n){return new(n||e)(C(H),C($),C(G))}}static{this.\u0275cmp=M({type:e,selectors:[["app-delete",5,"a"]],standalone:!0,features:[L],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(n,i){n&1&&(l(0,"div",0)(1,"h3",1),o(2,"Are you sure?"),a(),l(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),o(8," Patient Name: "),a(),o(9),a()(),l(10,"li")(11,"p")(12,"span",4),o(13," Gender: "),a(),o(14),a()(),l(15,"li")(16,"p")(17,"span",4),o(18,"Driver Name: "),a(),o(19),a()()()(),l(20,"div",5)(21,"button",6),u("click",function(){return i.confirmDelete()}),o(22," Delete "),a(),l(23,"button",7),u("click",function(){return i.onNoClick()}),o(24,"Cancel"),a()()()),n&2&&(c(9),E(i.data.patient_name),c(5),E(i.data.gender),c(5),x("",i.data.driver_name," "),c(2),d("mat-dialog-close",1))},dependencies:[Qe,z,Ue,y,F,O]})}}return e})();var ni=["filter"],li=()=>["Ambulance"],oi=()=>[5,10,25,100];function ri(e,r){if(e&1){let t=w();l(0,"mat-header-cell",53)(1,"mat-checkbox",54),u("change",function(i){_(t);let m=S();return f(i?m.masterToggle():null)}),a()()}if(e&2){let t=S();d("ngClass","tbl-col-width-per-6"),c(),d("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("ngClass","tbl-checkbox")}}function mi(e,r){if(e&1){let t=w();l(0,"mat-cell",53)(1,"mat-checkbox",55),u("click",function(i){return _(t),f(i.stopPropagation())})("change",function(i){let m=_(t).$implicit,p=S();return f(i?p.selection.toggle(m):null)}),a()()}if(e&2){let t=r.$implicit,n=S();d("ngClass","tbl-col-width-per-6"),c(),d("checked",n.selection.isSelected(t))("ngClass","tbl-checkbox")}}function ci(e,r){e&1&&(l(0,"mat-header-cell",56),o(1,"Id"),a())}function si(e,r){if(e&1&&(l(0,"mat-cell"),o(1),a()),e&2){let t=r.$implicit;c(),E(t.id)}}function di(e,r){e&1&&(l(0,"mat-header-cell",56),o(1,"Case No"),a())}function pi(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",57),o(2,"Case No:"),a(),o(3),a()),e&2){let t=r.$implicit;c(3),E(t.case_no)}}function ui(e,r){e&1&&(l(0,"mat-header-cell",56),o(1,"Patient Name"),a())}function _i(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",57),o(2,"Patient Name:"),a(),o(3),a()),e&2){let t=r.$implicit;c(3),x(" ",t.patient_name," ")}}function fi(e,r){e&1&&(l(0,"mat-header-cell",56),o(1," Gender "),a())}function hi(e,r){if(e&1&&(l(0,"div")(1,"span",59),o(2),a()()),e&2){let t=S().$implicit;c(2),x(" ",t.gender,"")}}function Ci(e,r){if(e&1&&(l(0,"div")(1,"span",60),o(2),a()()),e&2){let t=S().$implicit;c(2),x(" ",t.gender,"")}}function bi(e,r){if(e&1&&(l(0,"div")(1,"span",61),o(2),a()()),e&2){let t=S().$implicit;c(2),x(" ",t.gender,"")}}function vi(e,r){if(e&1&&(l(0,"mat-cell",58)(1,"span",57),o(2,"Gender:"),a(),s(3,hi,3,1,"div")(4,Ci,3,1,"div")(5,bi,3,1,"div"),a()),e&2){let t=r.$implicit;c(3),b(t.gender==="Male"?3:-1),c(),b(t.gender==="Female"?4:-1),c(),b(t.gender==="Other"?5:-1)}}function gi(e,r){e&1&&(l(0,"mat-header-cell",56),o(1,"Date"),a())}function xi(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",57),o(2,"Date:"),a(),o(3),xt(4,"date"),a()),e&2){let t=r.$implicit;c(3),E(St(4,1,t.date,"MM/dd/yyyy"))}}function Si(e,r){e&1&&(l(0,"mat-header-cell",56),o(1,"Vehicle No"),a())}function Di(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",57),o(2,"Vehicle No:"),a(),o(3),a()),e&2){let t=r.$implicit;c(3),x(" ",t.vehicle_no," ")}}function Ei(e,r){e&1&&(l(0,"mat-header-cell",56),o(1,"Driver Name"),a())}function wi(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",57),o(2,"Driver Name:"),a(),o(3),a()),e&2){let t=r.$implicit;c(3),x("",t.driver_name," ")}}function Mi(e,r){e&1&&(l(0,"mat-header-cell",56),o(1,"Driver No"),a())}function Li(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",57),o(2,"Driver No:"),a(),o(3),a()),e&2){let t=r.$implicit;c(3),x(" ",t.driver_no," ")}}function yi(e,r){e&1&&(l(0,"mat-header-cell",56),o(1,"Patient Address"),a())}function ki(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",62)(2,"span",57),o(3,"Patient Address:"),a(),o(4),a()()),e&2){let t=r.$implicit;c(4),E(t.patient_address)}}function Ai(e,r){e&1&&(l(0,"mat-header-cell",63),o(1,"Actions"),a())}function Ti(e,r){if(e&1){let t=w();l(0,"mat-cell",63)(1,"button",64),u("click",function(i){return _(t),f(i.stopPropagation())})("click",function(){let i=_(t).$implicit,m=S();return f(m.editCall(i))}),h(2,"app-feather-icons",65),a(),l(3,"button",64),u("click",function(i){return _(t),f(i.stopPropagation())})("click",function(){let i=_(t).$implicit,m=S();return f(m.deleteItem(i))}),h(4,"app-feather-icons",65),a()()}e&2&&(c(2),X("tbl-fav-edit"),d("icon","edit"),c(2),X("tbl-fav-delete"),d("icon","trash-2"))}function Ii(e,r){e&1&&h(0,"mat-header-row")}function Ni(e,r){if(e&1){let t=w();l(0,"mat-row",66),u("click",function(){let i=_(t).$implicit,m=S();return f(m.editCall(i))}),a()}e&2&&Y("cursor","pointer")}function Vi(e,r){e&1&&(l(0,"div",50),h(1,"mat-progress-spinner",67),a()),e&2&&(c(),d("diameter",40))}function Fi(e,r){if(e&1&&(l(0,"div",68),o(1," No results "),a()),e&2){let t=S();Y("display",t.dataSource.renderedData.length===0?"":"none")}}var Pt=(()=>{class e extends V{constructor(t,n,i,m){super(),this.httpClient=t,this.dialog=n,this.ambulanceCallListService=i,this.snackBar=m,this.displayedColumns=["select","case_no","patient_name","gender","date","vehicle_no","driver_name","driver_no","patient_address","actions"],this.selection=new W(!0,[])}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let t;localStorage.getItem("isRtl")==="true"?t="rtl":t="ltr";let n=this.dialog.open(ut,{data:{ambulanceCallList:this.ambulanceCallList,action:"add"},direction:t});this.subs.sink=n.afterClosed().subscribe(i=>{i===1&&(this.exampleDatabase?.dataChange.value.unshift(this.ambulanceCallListService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}editCall(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(ut,{data:{ambulanceCallList:t,action:"edit"},direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let p=this.exampleDatabase?.dataChange.value.findIndex(D=>D.id===this.id);p!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value[p]=this.ambulanceCallListService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}deleteItem(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(Rt,{data:t,direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let p=this.exampleDatabase?.dataChange.value.findIndex(D=>D.id===this.id);p!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(p,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){let t=this.selection.selected.length,n=this.dataSource.renderedData.length;return t===n}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(t=>this.selection.select(t))}removeSelectedRows(){let t=this.selection.selected.length;this.selection.selected.forEach(n=>{let i=this.dataSource.renderedData.findIndex(m=>m===n);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new W(!0,[])}),this.showNotification("snackbar-danger",t+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new G(this.httpClient),this.dataSource=new _t(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=oe(this.filter?.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter?.nativeElement.value)})}exportExcel(){let t=this.dataSource.filteredData.map(n=>({"Case No":n.case_no,"Patient Name":n.patient_name,Gender:n.gender,Date:K(new Date(n.date),"yyyy-MM-dd","en")||"","Vehicle No":n.vehicle_no,"Driver Name":n.driver_name,"Driver No":n.driver_no,"Patient Address":n.patient_address}));Me.exportToExcel(t,"excel")}showNotification(t,n,i,m){this.snackBar.open(n,"",{duration:2e3,verticalPosition:i,horizontalPosition:m,panelClass:t})}static{this.\u0275fac=function(n){return new(n||e)(C(N),C(Ge),C(G),C(rt))}}static{this.\u0275cmp=M({type:e,selectors:[["app-ambulance-call-list"]],viewQuery:function(n,i){if(n&1&&(A(j,7),A(B,7),A(ni,7)),n&2){let m;T(m=I())&&(i.paginator=m.first),T(m=I())&&(i.sort=m.first),T(m=I())&&(i.filter=m.first)}},standalone:!0,features:[se,L],decls:81,vars:15,consts:[["filter",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","case_no"],["matColumnDef","patient_name"],["matColumnDef","gender"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","vehicle_no"],["matColumnDef","driver_name"],["matColumnDef","driver_no"],["matColumnDef","patient_address"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"ngClass"],[3,"change","checked","indeterminate","ngClass"],[3,"click","change","checked","ngClass"],["mat-sort-header",""],[1,"mobile-label"],["mat-cell",""],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"badge","badge-solid-purple"],[1,"truncate-text"],[1,"pr-0"],["mat-icon-button","",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(n,i){if(n&1){let m=w();l(0,"section",2)(1,"div",3)(2,"div",4),h(3,"app-breadcrumb",5),a(),l(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ul",11)(10,"li",12)(11,"h2"),o(12,"Call List"),a()(),l(13,"li",13)(14,"label",14)(15,"i",15),o(16,"search"),a()(),h(17,"input",16,0),a()()(),l(19,"div",17)(20,"ul",18)(21,"li",19)(22,"div",20)(23,"button",21),u("click",function(){return _(m),f(i.addNew())}),l(24,"mat-icon"),o(25,"add"),a()()()(),l(26,"li",19)(27,"div",22)(28,"button",21),u("click",function(){return _(m),f(i.refresh())}),l(29,"mat-icon"),o(30,"refresh"),a()()()(),l(31,"li",19)(32,"div",23)(33,"button",24),u("click",function(){return _(m),f(i.removeSelectedRows())}),l(34,"mat-icon"),o(35,"delete "),a()()()(),l(36,"li")(37,"div",25)(38,"img",26),u("click",function(){return _(m),f(i.exportExcel())}),a()()()()()(),l(39,"div",27)(40,"div",28)(41,"table",29),v(42,30),s(43,ri,2,4,"mat-header-cell",31)(44,mi,2,3,"mat-cell",32),g(),v(45,33),s(46,ci,2,0,"mat-header-cell",34)(47,si,2,1,"mat-cell",35),g(),v(48,36),s(49,di,2,0,"mat-header-cell",34)(50,pi,4,1,"mat-cell",35),g(),v(51,37),s(52,ui,2,0,"mat-header-cell",34)(53,_i,4,1,"mat-cell",35),g(),v(54,38),s(55,fi,2,0,"mat-header-cell",34)(56,vi,6,3,"mat-cell",39),g(),v(57,40),s(58,gi,2,0,"mat-header-cell",34)(59,xi,5,4,"mat-cell",35),g(),v(60,41),s(61,Si,2,0,"mat-header-cell",34)(62,Di,4,1,"mat-cell",35),g(),v(63,42),s(64,Ei,2,0,"mat-header-cell",34)(65,wi,4,1,"mat-cell",35),g(),v(66,43),s(67,Mi,2,0,"mat-header-cell",34)(68,Li,4,1,"mat-cell",35),g(),v(69,44),s(70,yi,2,0,"mat-header-cell",34)(71,ki,5,1,"mat-cell",35),g(),v(72,45),s(73,Ai,2,0,"mat-header-cell",46)(74,Ti,5,6,"mat-cell",47),g(),s(75,Ii,1,0,"mat-header-row",48)(76,Ni,1,2,"mat-row",49),a(),s(77,Vi,2,1,"div",50)(78,Fi,2,2,"div",51),h(79,"mat-paginator",52,1),a()()()()()()()}n&2&&(c(3),d("title","Call List")("items",J(13,li))("active_item","Call List"),c(29),d("hidden",!i.selection.hasValue()),c(9),d("dataSource",i.dataSource),c(34),d("matHeaderRowDef",i.displayedColumns),c(),d("matRowDefColumns",i.displayedColumns),c(),b(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?77:-1),c(),b(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?-1:78),c(),d("length",i.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",J(14,oi)))},dependencies:[Ae,Ie,Te,y,R,ke,P,q,ot,Je,We,it,Ze,Ke,at,et,tt,nt,lt,ze,B,Oe,de,Ve,Ne,ye,we,Ee,Xe,Ye,$e,j,Dt]})}}return e})(),_t=class extends Le{get filter(){return this.filterChange.value}set filter(r){this.filterChange.next(r)}constructor(r,t,n){super(),this.exampleDatabase=r,this.paginator=t,this._sort=n,this.filterChange=new k(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){let r=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllAmbulanceCallLists(),re(...r).pipe(le(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>(i.case_no+i.patient_name+i.gender+i.date+i.vehicle_no+i.driver_name+i.patient_address+i.driver_no).toLowerCase().indexOf(this.filter.toLowerCase())!==-1);let t=this.sortData(this.filteredData.slice()),n=this.paginator.pageIndex*this.paginator.pageSize;return this.renderedData=t.splice(n,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(r){return!this._sort.active||this._sort.direction===""?r:r.sort((t,n)=>{let i="",m="";switch(this._sort.active){case"id":[i,m]=[t.id,n.id];break;case"case_no":[i,m]=[t.case_no,n.case_no];break;case"patient_name":[i,m]=[t.patient_name,n.patient_name];break;case"gender":[i,m]=[t.gender,n.gender];break;case"date":[i,m]=[t.date,n.date];break;case"vehicle_no":[i,m]=[t.vehicle_no,n.vehicle_no];break;case"driver_name":[i,m]=[t.driver_name,n.driver_name];break;case"driver_no":[i,m]=[t.driver_no,n.driver_no];break;case"patient_address":[i,m]=[t.patient_address,n.patient_address];break}let p=isNaN(+i)?i:+i,D=isNaN(+m)?m:+m;return(p<D?-1:1)*(this._sort.direction==="asc"?1:-1)})}};var Q=(()=>{class e extends V{constructor(t){super(),this.httpClient=t,this.API_URL="assets/data/ambulanceList.json",this.isTblLoading=!0,this.dataChange=new k([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllAmbulanceLists(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:t=>{this.isTblLoading=!1,this.dataChange.next(t)},error:t=>{this.isTblLoading=!1,console.log(t.name+" "+t.message)}})}addAmbulanceList(t){this.dialogData=t}updateAmbulanceList(t){this.dialogData=t}deleteAmbulanceList(t){console.log(t)}static{this.\u0275fac=function(n){return new(n||e)(ce(N))}}static{this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ct=class{constructor(r){this.id=r.id||this.getRandomID(),this.vehicle_no=r.vehicle_no||"",this.vehicle_name=r.vehicle_name||"",this.year_made=r.year_made||"",this.driver_name=r.driver_name||"",this.driver_license_no=r.driver_license_no||"",this.driver_no=r.driver_no||"",this.vehicle_type=r.vehicle_type||"",this.note=r.note||""}getRandomID(){let r=()=>(1+Math.random())*65536|0;return r()+r()}};function Ri(e,r){e&1&&(l(0,"mat-error"),o(1," Vehicle No is required "),a())}function qi(e,r){e&1&&(l(0,"mat-error"),o(1," Vehicle Name is required "),a())}function Pi(e,r){e&1&&(l(0,"mat-error"),o(1," Year Made is required "),a())}function ji(e,r){e&1&&(l(0,"mat-error"),o(1," Driver Name is required "),a())}function Bi(e,r){e&1&&(l(0,"mat-error"),o(1," Driver License No is required "),a())}function Hi(e,r){e&1&&(l(0,"mat-error"),o(1," Driver No is required "),a())}var ht=(()=>{class e{constructor(t,n,i,m){if(this.dialogRef=t,this.data=n,this.ambulanceListService=i,this.fb=m,this.formControl=new fe("",[ie.required]),this.action=n.action,this.action==="edit")this.dialogTitle=n.ambulanceList.vehicle_no,this.ambulanceList=n.ambulanceList;else{this.dialogTitle="Add Ambulance Call";let p={};this.ambulanceList=new ct(p)}this.ambulanceListForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.ambulanceList.id],vehicle_no:[this.ambulanceList.vehicle_no],vehicle_name:[this.ambulanceList.vehicle_name],year_made:[this.ambulanceList.year_made],driver_name:[this.ambulanceList.driver_name],driver_license_no:[this.ambulanceList.driver_license_no],driver_no:[this.ambulanceList.driver_no],vehicle_type:[this.ambulanceList.vehicle_type],note:[this.ambulanceList.note]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.ambulanceListService.addAmbulanceList(this.ambulanceListForm.getRawValue())}static{this.\u0275fac=function(n){return new(n||e)(C(H),C($),C(Q),C(xe))}}static{this.\u0275cmp=M({type:e,selectors:[["app-form-dialog",5,"b"]],standalone:!0,features:[L],decls:79,vars:12,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","vehicle_no","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","vehicle_name","required",""],["matInput","","formControlName","year_made","type","number","required",""],["matInput","","formControlName","driver_name","required",""],["matInput","","formControlName","driver_license_no"],["matInput","","formControlName","driver_no","type","number"],["formControlName","vehicle_type","required",""],[3,"value"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"example-button-row"],["mat-flat-button","","color","primary",3,"click","disabled","mat-dialog-close"],["mat-flat-button","","color","warn","tabindex","-1",3,"click"]],template:function(n,i){if(n&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),o(5),a()()(),l(6,"button",5),u("click",function(){return i.dialogRef.close()}),l(7,"mat-icon"),o(8,"close"),a()()(),l(9,"div",6)(10,"form",7),u("ngSubmit",function(){return i.submit}),l(11,"div",8)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),o(15,"Vehicle No"),a(),h(16,"input",11),l(17,"mat-icon",12),o(18,"pin"),a(),s(19,Ri,2,0,"mat-error"),a()(),l(20,"div",9)(21,"mat-form-field",10)(22,"mat-label"),o(23,"Vehicle Name"),a(),h(24,"input",13),l(25,"mat-icon",12),o(26,"airport_shuttle"),a(),s(27,qi,2,0,"mat-error"),a()()(),l(28,"div",8)(29,"div",9)(30,"mat-form-field",10)(31,"mat-label"),o(32,"Year Made"),a(),h(33,"input",14),l(34,"mat-icon",12),o(35,"event_note"),a(),s(36,Pi,2,0,"mat-error"),a()(),l(37,"div",9)(38,"mat-form-field",10)(39,"mat-label"),o(40,"Driver Name"),a(),h(41,"input",15),l(42,"mat-icon",12),o(43,"account_circle"),a(),s(44,ji,2,0,"mat-error"),a()()(),l(45,"div",8)(46,"div",9)(47,"mat-form-field",10)(48,"mat-label"),o(49,"Driver License No"),a(),h(50,"input",16),l(51,"mat-icon",12),o(52,"credit_card"),a(),s(53,Bi,2,0,"mat-error"),a()(),l(54,"div",9)(55,"mat-form-field",10)(56,"mat-label"),o(57,"Driver Contact No"),a(),h(58,"input",17),l(59,"mat-icon",12),o(60,"phone"),a(),s(61,Hi,2,0,"mat-error"),a()()(),l(62,"div",8)(63,"div",9)(64,"mat-form-field",10)(65,"mat-label"),o(66,"Vehicle Type"),a(),l(67,"mat-select",18)(68,"mat-option",19),o(69," Owned "),a(),l(70,"mat-option",19),o(71," Contractual "),a()()()()(),l(72,"div",8)(73,"div",20)(74,"div",21)(75,"button",22),u("click",function(){return i.confirmAdd()}),o(76,"Save"),a(),l(77,"button",23),u("click",function(){return i.onNoClick()}),o(78,"Cancel"),a()()()()()()()),n&2){let m,p,D,Z,ee,te;c(5),x(" ",i.dialogTitle," "),c(5),d("formGroup",i.ambulanceListForm),c(9),b((m=i.ambulanceListForm.get("vehicle_no"))!=null&&m.hasError("required")?19:-1),c(8),b((p=i.ambulanceListForm.get("vehicle_name"))!=null&&p.hasError("required")?27:-1),c(9),b((D=i.ambulanceListForm.get("year_made"))!=null&&D.hasError("required")?36:-1),c(8),b((Z=i.ambulanceListForm.get("driver_name"))!=null&&Z.hasError("required")?44:-1),c(9),b((ee=i.ambulanceListForm.get("driver_license_no"))!=null&&ee.hasError("required")?53:-1),c(8),b((te=i.ambulanceListForm.get("driver_no"))!=null&&te.hasError("required")?61:-1),c(7),d("value","Owned"),c(2),d("value","Contractual"),c(5),d("disabled",!i.ambulanceListForm.valid)("mat-dialog-close",1)}},dependencies:[y,F,R,P,q,z,Se,he,pe,Ce,ue,_e,ge,De,be,ve,je,Pe,Fe,Re,qe,He,Be,It,Tt,Et,wt,O]})}}return e})();var jt=(()=>{class e{constructor(t,n,i){this.dialogRef=t,this.data=n,this.ambulanceListService=i}onNoClick(){this.dialogRef.close()}confirmDelete(){this.ambulanceListService.deleteAmbulanceList(this.data.id)}static{this.\u0275fac=function(n){return new(n||e)(C(H),C($),C(Q))}}static{this.\u0275cmp=M({type:e,selectors:[["app-delete",5,"b"]],standalone:!0,features:[L],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(n,i){n&1&&(l(0,"div",0)(1,"h3",1),o(2,"Are you sure?"),a(),l(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),o(8," Vehicle No: "),a(),o(9),a()(),l(10,"li")(11,"p")(12,"span",4),o(13," Vehicle Name: "),a(),o(14),a()(),l(15,"li")(16,"p")(17,"span",4),o(18,"Driver Name: "),a(),o(19),a()()()(),l(20,"div",5)(21,"button",6),u("click",function(){return i.confirmDelete()}),o(22," Delete "),a(),l(23,"button",7),u("click",function(){return i.onNoClick()}),o(24,"Cancel"),a()()()),n&2&&(c(9),E(i.data.vehicle_no),c(5),E(i.data.vehicle_name),c(5),x("",i.data.driver_name," "),c(2),d("mat-dialog-close",1))},dependencies:[Qe,z,Ue,y,F,O]})}}return e})();var $i=["filter"],Oi=()=>["Ambulance"],zi=()=>[5,10,25,100];function Gi(e,r){if(e&1){let t=w();l(0,"mat-header-cell",51)(1,"mat-checkbox",52),u("change",function(i){_(t);let m=S();return f(i?m.masterToggle():null)}),a()()}if(e&2){let t=S();d("ngClass","tbl-col-width-per-6"),c(),d("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("ngClass","tbl-checkbox")}}function Qi(e,r){if(e&1){let t=w();l(0,"mat-cell",51)(1,"mat-checkbox",53),u("click",function(i){return _(t),f(i.stopPropagation())})("change",function(i){let m=_(t).$implicit,p=S();return f(i?p.selection.toggle(m):null)}),a()()}if(e&2){let t=r.$implicit,n=S();d("ngClass","tbl-col-width-per-6"),c(),d("checked",n.selection.isSelected(t))("ngClass","tbl-checkbox")}}function Ui(e,r){e&1&&(l(0,"mat-header-cell",54),o(1,"Id"),a())}function Yi(e,r){if(e&1&&(l(0,"mat-cell"),o(1),a()),e&2){let t=r.$implicit;c(),E(t.id)}}function Xi(e,r){e&1&&(l(0,"mat-header-cell",54),o(1,"Vehicle No"),a())}function Ji(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",55),o(2,"Vehicle No:"),a(),o(3),a()),e&2){let t=r.$implicit;c(3),x(" ",t.vehicle_no," ")}}function Ki(e,r){e&1&&(l(0,"mat-header-cell",54),o(1,"Vehicle Name"),a())}function Wi(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",55),o(2,"Vehicle Name:"),a(),o(3),a()),e&2){let t=r.$implicit;c(3),x(" ",t.vehicle_name," ")}}function Zi(e,r){e&1&&(l(0,"mat-header-cell",54),o(1,"Year Made"),a())}function ea(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",55),o(2,"Year Made:"),a(),o(3),a()),e&2){let t=r.$implicit;c(3),x(" ",t.year_made," ")}}function ta(e,r){e&1&&(l(0,"mat-header-cell",54),o(1,"Driver Name"),a())}function ia(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",55),o(2,"Driver Name:"),a(),o(3),a()),e&2){let t=r.$implicit;c(3),x(" ",t.driver_name," ")}}function aa(e,r){e&1&&(l(0,"mat-header-cell",54),o(1,"Driver License No"),a())}function na(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",55),o(2,"Driver License No:"),a(),o(3),a()),e&2){let t=r.$implicit;c(3),E(t.driver_license_no)}}function la(e,r){e&1&&(l(0,"mat-header-cell",54),o(1,"Driver Contact No"),a())}function oa(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",55),o(2,"Driver Contact No:"),a(),o(3),a()),e&2){let t=r.$implicit;c(3),x("",t.driver_no," ")}}function ra(e,r){e&1&&(l(0,"mat-header-cell",54),o(1,"Vehicle Type"),a())}function ma(e,r){if(e&1&&(l(0,"mat-cell")(1,"span",56)(2,"span",55),o(3,"Vehicle Type:"),a(),o(4),a()()),e&2){let t=r.$implicit;c(4),E(t.vehicle_type)}}function ca(e,r){e&1&&(l(0,"mat-header-cell",57),o(1,"Actions"),a())}function sa(e,r){if(e&1){let t=w();l(0,"mat-cell",57)(1,"button",58),u("click",function(i){return _(t),f(i.stopPropagation())})("click",function(){let i=_(t).$implicit,m=S();return f(m.editCall(i))}),h(2,"app-feather-icons",59),a(),l(3,"button",58),u("click",function(i){return _(t),f(i.stopPropagation())})("click",function(){let i=_(t).$implicit,m=S();return f(m.deleteItem(i))}),h(4,"app-feather-icons",59),a()()}e&2&&(c(2),X("tbl-fav-edit"),d("icon","edit"),c(2),X("tbl-fav-delete"),d("icon","trash-2"))}function da(e,r){e&1&&h(0,"mat-header-row")}function pa(e,r){if(e&1){let t=w();l(0,"mat-row",60),u("click",function(){let i=_(t).$implicit,m=S();return f(m.editCall(i))}),a()}e&2&&Y("cursor","pointer")}function ua(e,r){e&1&&(l(0,"div",48),h(1,"mat-progress-spinner",61),a()),e&2&&(c(),d("diameter",40))}function _a(e,r){if(e&1&&(l(0,"div",62),o(1," No results "),a()),e&2){let t=S();Y("display",t.dataSource.renderedData.length===0?"":"none")}}var Bt=(()=>{class e extends V{constructor(t,n,i,m){super(),this.httpClient=t,this.dialog=n,this.ambulanceListService=i,this.snackBar=m,this.displayedColumns=["select","vehicle_no","vehicle_name","year_made","driver_name","driver_license_no","driver_no","vehicle_type","actions"],this.selection=new W(!0,[])}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let t;localStorage.getItem("isRtl")==="true"?t="rtl":t="ltr";let n=this.dialog.open(ht,{data:{ambulanceList:this.ambulanceList,action:"add"},direction:t});this.subs.sink=n.afterClosed().subscribe(i=>{i===1&&(this.exampleDatabase?.dataChange.value.unshift(this.ambulanceListService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}editCall(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(ht,{data:{ambulanceList:t,action:"edit"},direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let p=this.exampleDatabase?.dataChange.value.findIndex(D=>D.id===this.id);p!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value[p]=this.ambulanceListService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}deleteItem(t){this.id=t.id;let n;localStorage.getItem("isRtl")==="true"?n="rtl":n="ltr";let i=this.dialog.open(jt,{data:t,direction:n});this.subs.sink=i.afterClosed().subscribe(m=>{if(m===1){let p=this.exampleDatabase?.dataChange.value.findIndex(D=>D.id===this.id);p!=null&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(p,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){let t=this.selection.selected.length,n=this.dataSource.renderedData.length;return t===n}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(t=>this.selection.select(t))}removeSelectedRows(){let t=this.selection.selected.length;this.selection.selected.forEach(n=>{let i=this.dataSource.renderedData.findIndex(m=>m===n);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new W(!0,[])}),this.showNotification("snackbar-danger",t+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new Q(this.httpClient),this.dataSource=new Ct(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=oe(this.filter?.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter?.nativeElement.value)})}exportExcel(){let t=this.dataSource.filteredData.map(n=>({"Vehicle No":n.vehicle_no,"Vehicle Name":n.vehicle_name,"Year Made":n.year_made,"Driver Name":n.driver_name,"Driver License No":n.driver_license_no,"Driver No":n.driver_no,"Vehicle Type":n.vehicle_type}));Me.exportToExcel(t,"excel")}showNotification(t,n,i,m){this.snackBar.open(n,"",{duration:2e3,verticalPosition:i,horizontalPosition:m,panelClass:t})}static{this.\u0275fac=function(n){return new(n||e)(C(N),C(Ge),C(Q),C(rt))}}static{this.\u0275cmp=M({type:e,selectors:[["app-ambulance-list"]],viewQuery:function(n,i){if(n&1&&(A(j,7),A(B,7),A($i,7)),n&2){let m;T(m=I())&&(i.paginator=m.first),T(m=I())&&(i.sort=m.first),T(m=I())&&(i.filter=m.first)}},standalone:!0,features:[se,L],decls:78,vars:15,consts:[["filter",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","vehicle_no"],["matColumnDef","vehicle_name"],["matColumnDef","year_made"],["matColumnDef","driver_name"],["matColumnDef","driver_license_no"],["matColumnDef","driver_no"],["matColumnDef","vehicle_type"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"ngClass"],[3,"change","checked","indeterminate","ngClass"],[3,"click","change","checked","ngClass"],["mat-sort-header",""],[1,"mobile-label"],[1,"truncate-text"],[1,"pr-0"],["mat-icon-button","",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(n,i){if(n&1){let m=w();l(0,"section",2)(1,"div",3)(2,"div",4),h(3,"app-breadcrumb",5),a(),l(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ul",11)(10,"li",12)(11,"h2"),o(12,"Ambulance List"),a()(),l(13,"li",13)(14,"label",14)(15,"i",15),o(16,"search"),a()(),h(17,"input",16,0),a()()(),l(19,"div",17)(20,"ul",18)(21,"li",19)(22,"div",20)(23,"button",21),u("click",function(){return _(m),f(i.addNew())}),l(24,"mat-icon"),o(25,"add"),a()()()(),l(26,"li",19)(27,"div",22)(28,"button",21),u("click",function(){return _(m),f(i.refresh())}),l(29,"mat-icon"),o(30,"refresh"),a()()()(),l(31,"li",19)(32,"div",23)(33,"button",24),u("click",function(){return _(m),f(i.removeSelectedRows())}),l(34,"mat-icon"),o(35,"delete "),a()()()(),l(36,"li")(37,"div",25)(38,"img",26),u("click",function(){return _(m),f(i.exportExcel())}),a()()()()()(),l(39,"div",27)(40,"div",28)(41,"table",29),v(42,30),s(43,Gi,2,4,"mat-header-cell",31)(44,Qi,2,3,"mat-cell",32),g(),v(45,33),s(46,Ui,2,0,"mat-header-cell",34)(47,Yi,2,1,"mat-cell",35),g(),v(48,36),s(49,Xi,2,0,"mat-header-cell",34)(50,Ji,4,1,"mat-cell",35),g(),v(51,37),s(52,Ki,2,0,"mat-header-cell",34)(53,Wi,4,1,"mat-cell",35),g(),v(54,38),s(55,Zi,2,0,"mat-header-cell",34)(56,ea,4,1,"mat-cell",35),g(),v(57,39),s(58,ta,2,0,"mat-header-cell",34)(59,ia,4,1,"mat-cell",35),g(),v(60,40),s(61,aa,2,0,"mat-header-cell",34)(62,na,4,1,"mat-cell",35),g(),v(63,41),s(64,la,2,0,"mat-header-cell",34)(65,oa,4,1,"mat-cell",35),g(),v(66,42),s(67,ra,2,0,"mat-header-cell",34)(68,ma,5,1,"mat-cell",35),g(),v(69,43),s(70,ca,2,0,"mat-header-cell",44)(71,sa,5,6,"mat-cell",45),g(),s(72,da,1,0,"mat-header-row",46)(73,pa,1,2,"mat-row",47),a(),s(74,ua,2,1,"div",48)(75,_a,2,2,"div",49),h(76,"mat-paginator",50,1),a()()()()()()()}n&2&&(c(3),d("title","Ambulance List")("items",J(13,Oi))("active_item","List"),c(29),d("hidden",!i.selection.hasValue()),c(9),d("dataSource",i.dataSource),c(31),d("matHeaderRowDef",i.displayedColumns),c(),d("matRowDefColumns",i.displayedColumns),c(),b(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?74:-1),c(),b(i.exampleDatabase!=null&&i.exampleDatabase.isTblLoading?-1:75),c(),d("length",i.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",J(14,zi)))},dependencies:[Ae,Ie,Te,y,R,ke,P,q,ot,Je,We,it,Ze,Ke,at,et,tt,nt,lt,ze,B,Oe,de,Ve,Ne,ye,we,Ee,Xe,Ye,$e,j]})}}return e})(),Ct=class extends Le{get filter(){return this.filterChange.value}set filter(r){this.filterChange.next(r)}constructor(r,t,n){super(),this.exampleDatabase=r,this.paginator=t,this._sort=n,this.filterChange=new k(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){let r=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllAmbulanceLists(),re(...r).pipe(le(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>(i.vehicle_no+i.vehicle_name+i.year_made+i.driver_name+i.driver_license_no+i.driver_no+i.vehicle_type).toLowerCase().indexOf(this.filter.toLowerCase())!==-1);let t=this.sortData(this.filteredData.slice()),n=this.paginator.pageIndex*this.paginator.pageSize;return this.renderedData=t.splice(n,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(r){return!this._sort.active||this._sort.direction===""?r:r.sort((t,n)=>{let i="",m="";switch(this._sort.active){case"id":[i,m]=[t.id,n.id];break;case"vehicle_no":[i,m]=[t.vehicle_no,n.vehicle_no];break;case"vehicle_name":[i,m]=[t.vehicle_name,n.vehicle_name];break;case"year_made":[i,m]=[t.year_made,n.year_made];break;case"driver_name":[i,m]=[t.driver_name,n.driver_name];break;case"driver_license_no":[i,m]=[t.driver_license_no,n.driver_license_no];break;case"driver_no":[i,m]=[t.driver_no,n.driver_no];break;case"vehicle_type":[i,m]=[t.vehicle_type,n.vehicle_type];break}let p=isNaN(+i)?i:+i,D=isNaN(+m)?m:+m;return(p<D?-1:1)*(this._sort.direction==="asc"?1:-1)})}};var zn=[{path:"call-list",component:Pt},{path:"list",component:Bt},{path:"**",component:Mt}];export{zn as AMBULANCE_ROUTE};
